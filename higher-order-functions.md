# Higher-order Functions

> ูุงู Tzu-li ู Tzu-ssu ูุชูุงุฎุฑุงู ุจุญุฌู ุจุฑุงูุฌููุง ุงูุฃุฎูุฑุฉ. ูุงู ุชุฒู ูู: "ูุงุฆุชู ุฃูู ุณุทุฑ" ุ "ุฏูู ุงุญุชุณุงุจ ุงูุชุนูููุงุช!" ุฃุฌุงุจ ุชุฒู-ุณุณู ุ "Pssh ุ ูุง ููุฑุจ ูู ููููู ุณุทุฑ ุจุงููุนู." ูุงู ุงูุณูุฏ ููุงู-ูุง ุ "ุฃูุถู ุจุฑูุงูุฌ ูุฏู ุจู ุฎูุณูุงุฆุฉ ุณุทุฑ ุนูุฏ ุณูุงุน ุฐูู ุ ุชู ุชูููุฑ ุชุฒูู-ูู ูุชุณู-ุณู.
>
> ูุงุฌุณุชูุฑ ููุงู ูุง ุ ูุชุงุจ ุงูุจุฑูุฌุฉ

> ููุงู ุทุฑููุชุงู ูุจูุงุก ุชุตููู ุงูุจุฑูุงูุฌ: ุฅุญุฏู ุงูุทุฑู ูู ุฌุนูู ุจุณูุทูุง ุฌุฏูุง ุจุญูุซ ูุง ุชูุฌุฏ ุนููุจ ุจูุถูุญ ุ ูุงูุทุฑููุฉ ุงูุฃุฎุฑู ูู ุฌุนูู ูุนูุฏูุง ููุบุงูุฉ ุจุญูุซ ูุง ุชูุฌุฏ ุนููุจ ูุงุถุญุฉ  
>
>                                                    ุณูุงุฑุฉ. ููุงุฑู ุ 1980 ูุญุงุถุฑุฉ ุนู ุฌุงุฆุฒุฉ ุฅูู ุณู ุฅู ุชูุฑููุฌ

![](.gitbook/assets/image.png)

ูุนุฏ ุงูุจุฑูุงูุฌ ุงููุจูุฑ ูููููุง ุ ููุฐุง ููุณ ููุท ุจุณุจุจ ุงูููุช ุงูุทููู ุงูุฐู ูุณุชุบุฑูู ุฅูุดุงุฆู ุ ูููู ุฃูุถูุง ุชุนููุฏ ุงูุจุฑูุงูุฌ ุฏุงุฆููุง ูุง ูููู ุฌุฒุกูุง ูู ุงูุญุฌู ุ ุดูุก ูุฑุจู ุงููุจุฑูุฌูู ููุญูุฑูู ููุณุจุจ ุฃุฎุทุงุก ูู ุงูุจุฑูุงูุฌ. ูุฐุง ูุฅู ุงูุจุฑูุงูุฌ ุงููุจูุฑ ูููุฑ ูุณุงุญุฉ ูุจูุฑุฉ ูุฅุฎูุงุก ุงูุฃุฎุทุงุก ููุฌุนู ูู ุงูุตุนุจ ุงูุนุซูุฑ ุนูู ุงูุฃุฎุทุงุก.

ุฏุนููุง ูููู ูุธุฑุฉ ุณุฑูุนุฉ ุนูู ุงููุณุฎุฉ ุงูููุงุฆูุฉ ูู ุงูุจุฑูุงูุฌูู ุงูุชูููุฏููู ูููุชุงุจ. ุงูุจุฑูุงูุฌ ุงูุฃูู ููุณ ูู ูุธููุฉ ููุฏูู ุณุชุฉ ุฃุณุทุฑ ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ูู ุงููุฌููุน:

```text
let total = 0, count = 1;
while (count <= 10) {
  total += count;
  count += 1;
}
console.log(total);
```

ุงูุจุฑูุงูุฌ ุงูุซุงูู ูุณุชุฎุฏู ูุธููุชูู ููุญุชูู ุนูู ุณุทุฑ ูุงุญุฏ ููุท:

```text
console.log(sum(range(1, 10)));
```

ุฃูููุง ุฃูุซุฑ ุนุฑุถุฉ ููุฅุตุงุจุฉ ุจุงูุฎููุ

ุฅุฐุง ุฃุฎุฐูุง ูู ุงูุงุนุชุจุงุฑ ุญุฌู ุชุนุฑูู ุฏูุงู ุงูุฌูุน'sum' ูุงููุฏู'range' ุ ูุฅู ุงูุจุฑูุงูุฌ ุงูุซุงูู ูู ุฃูุถูุง ุจุฑูุงูุฌ ูุจูุฑ - ุญุชู ุฃูุจุฑ ูู ุงูุจุฑูุงูุฌ ุงูุฃูู. ููู ูุง ุฒูุช ุฃุฏุนู ุฃู ูุฐุง ุงูุจุฑูุงูุฌ ุณูุนูู ุนูู ุงูุฃุฑุฌุญ ุจุดูู ุตุญูุญ.

ููู ุงููุฑุฌุญ ุฃู ุชููู ุตุญูุญุฉ ูุฃู ุงูุญู ูุชู ุงูุชุนุจูุฑ ุนูู ูู ููุฑุฏุงุช ุชุชูุงูู ูุน ุงููุดููุฉ ุงูุชู ูุชู ุญููุง.ุฌูุน ูุทุงู ูู ุงูุฃุฑูุงู ูุง ูุชุนูู ุจุงูุญููุงุช ูุงูุนุฏุงุฏุงุช. ูุชุนูู ุจุงููุชุฑุงุช ุงูุฒูููุฉ ูุงูุนูู

ุชุนุฑููุงุช ูุฐู ุงูููุฑุฏุงุช \( functions `sum`  ู `range`\)ุณุชุธู ุชุชุถูู ุงูุญููุงุช ูุงูุนุฏุงุฏุงุช ูุงูุชูุงุตูู ุงูุนุฑุถูุฉ ุงูุฃุฎุฑู.ูููู ูุธุฑูุง ูุฃููุง ุชุนุจุฑ ุนู ููุงููู ุฃุจุณุท ูู ุงูุจุฑูุงูุฌ ููู ุ ููู ุงูุฃุณูู ููููุง ุจุดูู ุตุญูุญ.

### Abstraction

ูู ูุถุงุก ุงูุจุฑูุฌุฉ ุ ูุดุงุฑ ุฅูู ูุฐู ุงููููุงุช ุนููููุง ุนูู ุฃููุง ูุฌุฑุฏุฉ  _abstractions_ ุชุฎูู ุงูุชุฌุฑูุฏุงุช ุงูุชูุงุตูู ูุชุณูุญ ููุง ุจุงูุญุฏูุซ ุนู ุงููุดููุงุช ุนูู ูุณุชูู ุฃุนูู \(ูุฒูุฏ ูู ุงูุชุฌุฑูุฏ\).

ูุงุณุชุนุงุฑุฉ ุ ูููู ููุงุฑูุฉ ุทุฑููุชูู ูุตูุน ุญุณุงุก ุงูุจุงุฒูุงุก. ุงูุญุงูุฉ ุงูุฃููู ุณุชููู ุนูู ุงููุญู ุงูุชุงูู:

> ุตุจ ููุจูุง ูุงุญุฏูุง ูู ุงูุจุงุฒูุงุก ุงููุฌููุฉ ูู ูุนุงุก ูุงุญุฏ ููู ุดุฎุต. ุฃุถู ุงููุงุก ูุชุบุทูุฉ ูู ุงูุจุงุฒูุงุก. ุฏุน ุงูุจุงุฒูุงุก ุชููุน ููุฏุฉ 12 ุณุงุนุฉ ุนูู ุงูุฃูู. ุซู ุฃุฎุฑุฌ ุงูุจุงุฒูุงุก ูู ุงููุงุก ูุถุนูุง ูู ูุนุงุก. ุฃุถู 4 ุฃููุงุจ ูู ุงููุงุก ููู ุดุฎุต. ุบุทู ุงููุนุงุก ูุงุชุฑููู ุนูู ุงูุบุงุฒ ููุฏุฉ ุณุงุนุชูู. ููู ุดุฎุต ุ ูุฃุฎุฐ ูุตู ุจุตูุฉ ูููุทุนูุง ููุถูููุง ุฅูู ุงูุจุงุฒูุงุก. ุฎุฐ ุณุงู ูุฑูุณ ูุงุญุฏ ููู ุดุฎุต. ูุทุนููุง ุจุณููู ูุฃุถููููุง ุฅูู ุงูุจุงุฒูุงุก. ููู ุดุฎุต ูุนุชุจุฑ ุฌุฒุฑุฉ ููุทุนุฉ ุจุณููู! ููุถุงู ุงูู ุงูุจุงุฒูุงุก. ุฏุน ุงูุทูู ููุฏุฉ 10 ุฏูุงุฆู ุฃุฎุฑู

**ุทุฑููุฉ ุงูุชุญุถูุฑ ุงูุซุงููุฉ:**

> ููู: ููุจ ูู ุงูุจุงุฒูุงุก ุงููุฌููุฉ ููุตู ุจุตูุฉ ููุทุนุฉ ูุณุงู ูุฑูุณ ูุฌุฒุฑุฉ.
>
> ููุน ุงูุจุงุฒูุงุก ููุฏุฉ 12 ุณุงุนุฉ. ูุบูู ููุฏุฉ ุณุงุนุชูู ูู 4 ุฃููุงุจ ูู ุงููุงุก \(ูุดุฎุต ูุงุญุฏ\) ุนูู ุบุงุฒ ุจุทูุก. ููุทุน ุงูุฎุถุงุฑ ููุถูููุง. ุทูู ููุฏุฉ 10 ุฏูุงุฆู ุฃุฎุฑู

ุงูุฃูุฑ ุงูุซุงูู ูุงู ุฃูุตุฑ ูุฃุณูู ูู ุงูุดุฑุญ. ููู ูููู ุฐูู ุ ุนููู ุฃู ุชุชุฐูุฑ ุจุนุถ ุงููููุงุช ุงููุชุนููุฉ ุจุงูุทูู - ุงูููุน ุ ูุงูุบููุงู ุ ูุงูุชูุทูุน ุ ูุฃุนุชูุฏ ุฃู ุงูุฎุถุงุฑ

ุนูุฏ ุงูุจุฑูุฌุฉ ุ ูุง ูููููุง ุฃู ููุชุฑุถ ุฃู ูู ุงููููุงุช ุงูุชู ูุญุชุงุฌูุง ููุฌูุฏุฉ ูุชูุชุธุฑูุง ูู ุงููุงููุณ. ูุจุงูุชุงูู ุ ูุฏ ููุน ูู ูุฎ ุงูููุท ูู ุงูุฅุนุฏุงุฏ ุงูุฃูู - ุงูุนูู ุนูู ุงูุฎุทูุงุช ุงูุฏูููุฉ ุงูุชู ูุฌุจ ุฃู ูููู ุจูุง ุงูููุจููุชุฑ ุ ูุงุญุฏุฉ ุชูู ุงูุฃุฎุฑู ุ ุจุบุถ ุงููุธุฑ ุนู ููุงููู ุงููุณุชูู ุงูุฃุนูู ุงูุชู ุชููููุง ูุฐู ุงูุฃูุงูุฑ.

ูู ุงูููุงุฑุงุช ุงูุนูููุฉ ูู ุงูุจุฑูุฌุฉ ุฃู ุชููู ูุฏุฑููุง ููุง ุนูุฏูุง ุชุนูู ุจูุณุชูู ููุฎูุถ ุฌุฏูุง ูู ุงูุชุฌุฑูุฏ.

### Abstracting repetition

ุงููุธุงุฆู ุงูุจุณูุทุฉ ุ ูุซู ุชูู ุงูุชู ุฑุฃููุงูุง ุญุชู ุงูุขู ุ ูููุฏุฉ ูุฅูุดุงุก ุงูุชุฌุฑูุฏ. ููู ูู ุจุนุถ ุงูุฃุญูุงู ูุง ุชููู ูุงููุฉ.

ูู ุงูุดุงุฆุน ูู ุงูุจุฑุงูุฌ ุชูุฑุงุฑ ุนุฏุฏ ูุนูู ูู ุงูููุงู. ููููู ุงุณุชุฎุฏุงู ุญููุฉ for ููููุงู ุจุฐูู:

```text
for (let i = 0; i < 10; i++) {
  console.log(i);
}
```

ูู ูู ุงููููู ูุตู "ุนุฏุฏ ูุฑุงุช ุฃุฏุงุก ูููุฉ" ุจุงุณุชุฎุฏุงู ุฏุงูุฉุ ุญุณููุง ุ ูู ุงูุณูู ุฌุฏูุง ูุชุงุจุฉ ุฏุงูุฉ ุชุณุชุฏุนู console.log N ูุฑุงุช.

```text
function repeatLog(n) {
  for (let i = 0; i < n; i++) {
    console.log(i);
  }
}
```

ูููู ูุงุฐุง ูู ุฃุฑุฏูุง ุงูููุงู ุจุดูุก ุขุฎุฑ ุบูุฑ ุทุจุงุนุฉ ุงูุฃุฑูุงู ูู ุงููุฎุฑุฌุงุชุ ูุธุฑูุง ูุฃู "ุงูููุงู ุจูููุฉ" ูููู ุงุนุชุจุงุฑู ุฏุงูุฉ ุ ูุงููุธุงุฆู ูู ููู ูุนููุฉ ุ ูููููุง ุฅุฑุณุงู "ุงููููุฉ" ููููุฉ ุฏุงูุฉ.

```text
function repeat(n, action) {
  for (let i = 0; i < n; i++) {
    action(i);
  }
}

repeat(3, console.log);
// โ 0
// โ 1
// โ 2
```

ูุง ุชุญุชุงุฌ ุฅูู ุฅุฑุณุงู ูุธููุฉ ูุญุฏุฏุฉ ูุณุจููุง ุฅูู ูุธููุฉ ุงูุชูุฑุงุฑ' `repeat` '. ุบุงูุจูุง ูุง ูููู ูู ุงูุฃุณูู ุฅูุดุงุก "ูููุฉ ุฏุงูุฉ" ูู ููุณ ุงูููุช.

```text
let labels = [];
repeat(5, i => {
  labels.push(`Unit ${i + 1}`);
});
console.log(labels);
// โ ["Unit 1", "Unit 2", "Unit 3", "Unit 4", "Unit 5"]
```

ุชุดุจู ูุฐู ุงูุจููุฉ ุฅูู ุญุฏ ูุง ุญููุฉ for - ููู ุชุญุฏุฏ ุฃููุงู ููุน ุงูุญููุฉ ุซู ุชููุฑ ุงูุฌุณู. ููุน ุฐูู ุ ูุฅู ุงูุฌุณู ููุชูุจ ุงูุขู ููููุฉ ุฏุงูุฉ ุ ููู ููุณู ูุญุงุท ุจุฃููุงุณ ูุงุณุชุฏุนุงุก ูุธููุฉ ุงูุชูุฑุงุฑ.ูุฐุง ูู ุงูุณุจุจ ูู ุฃูู ูุฌุจ ุฅุบูุงูู ุจููุณ ุฅุบูุงู ูููุณ ุฅุบูุงู.ูู ูุซู ูุฐู ุงูุญุงูุงุช ุ ุญูุซ ูููู ุงูุฌุณู ุนุจุงุฑุฉ ุนู ุชุนุจูุฑ ูุงุญุฏ ุตุบูุฑ ุ ููููู ุฅุฒุงูุฉ ุงูุฃููุงุณ ููุชุงุจุฉ ุงูุญููุฉ ูู ุณุทุฑ ูุงุญุฏ.

ุชุณูุญ ููุง ูุธุงุฆู ุงููุณุชูู ุงูุฃุนูู ุจุฅูุดุงุก ุชุฌุฑูุฏุงุช ุชุณุชูุฏ ุฅูู ุงูุฅุฌุฑุงุกุงุช ุ ูููุณ ุงูููู ููุท. ุชุฃุชู ูุฐู ุงููุธุงุฆู ูู ุฃุดูุงู ุนุฏูุฏุฉ. ุนูู ุณุจูู ุงููุซุงู ุ ูููู ุฃู ูููู ูุฏูู ูุธุงุฆู ุชูุดุฆ ูุธุงุฆู ุจููุณูุง.

```text
function greaterThan(n) {
  return m => m > n;
}
let greaterThan10 = greaterThan(10);
console.log(greaterThan10(11));
// โ true
```

ููููู ุฃู ูููู ูุฏููุง ุฏูุงู ุชุบูุฑ ุฏูุงู ุฃุฎุฑู.

```text
function noisy(f) {
  return (...args) => {
    console.log("calling with", args);
    let result = f(...args);
    console.log("called with", args, ", returned", result);
    return result;
  };
}
noisy(Math.min)(3, 2, 1);
// โ calling with [3, 2, 1]
// โ called with [3, 2, 1] , returned 1
```

ููููู ุญุชู ูุชุงุจุฉ ูุธุงุฆู ุชููุฑ ููุนูุง ุฌุฏูุฏูุง ูู ุชุฏูู ุงูุชุญูู.

```text
function unless(test, then) {
  if (!test) then();
}

repeat(3, n => {
  unless(n % 2 == 1, () => {
    console.log(n, "is even");
  });
});
// โ 0 is even
// โ 2 is even
```

ููุงู ุทุฑููุฉ ูุญุฏุฏุฉ ูุณุจููุง ูููุตูููุงุช ุชุณูู forEach ุชููู ุจุดูุก ูุซู ุญููุฉ for / of ูุฏุงูุฉ ุนุงููุฉ ุงูุฌูุฏุฉ.

```text
["A", "B"].forEach(l => console.log(l));
// โ A
// โ B
```

### Script data set

ุชุนุฏ ูุนุงูุฌุฉ ุงูุจูุงูุงุช ูู ุงูุฃูุงูู ุงูุชู ุชุชุฃูู ูููุง ุงููุธุงุฆู ุงููุชุทูุฑุฉ. ููุนุงูุฌุฉ ุงูุจูุงูุงุช ุ ูุญุชุงุฌ ุฅูู ุจูุงูุงุช ุญููููุฉ, ุณูุณุชุฎุฏู ูุฐุง ุงููุตู ูุฌููุนุฉ ุจูุงูุงุช ุญูู ุงููุตูุต โ ุฃูุธูุฉ ุงููุชุงุจุฉ ูุซู ุงููุงุชูููุฉ ุฃู ุงูุณูุฑูููุฉ ุฃู ุงูุนุฑุจูุฉ.

ุงุณุชุฑุฌุน Unicode ูู ุงููุตู 1 ุ ููู ูุธุงู ูููู ุจุชุนููู ุฑูู ููู ุญุฑู ูู ุงููุบุฉ ุงูููุชูุจุฉ. ุชูุชูู ูุนุธู ูุฐู ุงูุฃุญุฑู ุฅูู ุฃุจุฌุฏูุฉ ูุนููุฉ. ูุญุชูู ูุฐุง ุงููุนูุงุฑ ุนูู 140 ุญุฑููุง ูุฎุชูููุง - ูู ุจูููุง ุ 81 ููุฏ ุงูุงุณุชุฎุฏุงู ุงูููู ู 59 ูุฏููุฉ.

ุนูู ุงูุฑุบู ูู ุฃููู ูุง ุฃุณุชุทูุน ูุฑุงุกุฉ ุงูุฃุญุฑู ุงููุงุชูููุฉ ุฅูุง ุจุทูุงูุฉ ุ ุฅูุง ุฃููู ูุนุฌุจ ุจุญูููุฉ ุฃู ุงููุงุณ ุญูู ุงูุนุงูู ููุชุจูู ูู ูุง ูุง ููู ุนู 80 ูุธุงู ูุชุงุจุฉ ุขุฎุฑ ุ ูุง ูููููู ุญุชู ุงูุชุนุฑู ุนูู ุงููุซูุฑ ูููุง. ุนูู ุณุจูู ุงููุซุงู ุ ูุง ููู ูุซุงู ููุชูุจ ุจุฎุท ุงููุฏ ูู ุงูุชุงููู:

![](.gitbook/assets/image%20%289%29.png)

ุชุญุชูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงููููุฐุฌูุฉ ุงูุฎุงุตุฉ ุจูุง ุนูู ูุนูููุงุช ุญูู ุญูุงูู 140 ุญุฑููุง ุฃุจุฌุฏููุง ูู Unicode. ูููู ุชูุฒูู ูุฐู ุงูุจูุงูุงุช ูู ูุณู   [coding sandbox](https://eloquentjavascript.net/code#5)  ูู ูุฐุง ุงููุตู ููุชุบูุฑ SCRIPTS. ูุญุชูู ูุฐุง ุงููุชุบูุฑ ุนูู ูุฌููุนุฉ ูู ุงููุงุฆูุงุช ุ ูู ูููุง ููุซู ุฃุจุฌุฏูุฉ.

> ```text
> {
>   name: "Coptic",
>   ranges: [[994, 1008], [11392, 11508], [11513, 11520]],
>   direction: "ltr",
>   year: -200,
>   living: false,
>   link: "https://en.wikipedia.org/wiki/Coptic_alphabet"
> }
> ```

ุชุชุถูู ูุฐู ุงููุงุฆูุงุช ุงุณู ุงูุฃุจุฌุฏูุฉ ููุทุงู Unicode ุงููุฎุตุต ููุง ูุงูุงุชุฌุงู ุงูุฐู ุชูุช ูุชุงุจุชู ููู ูุงูุฃุตู ุงูุฒููู \(ุงูุชูุฑูุจู\) ููุง ุฅุฐุง ูุงู ูุง ูุฒุงู ููุฏ ุงูุงุณุชุฎุฏุงู ูุฑุงุจุทูุง ููุฒูุฏ ูู ุงููุนูููุงุช. ููุชุงุจุชูุง ูููู ุฃู ุชููู "ltr" ูู ุงููุณุงุฑ ุฅูู ุงููููู ุ ุฃู "rtl" ูู ุงููููู ุฅูู ุงููุณุงุฑ \(ูุซู ุงูุนุฑุจูุฉ ูุงูุนุจุฑูุฉ\) ุฃู "ttb" ูู ุงูุฃุนูู ุฅูู ุงูุฃุณูู \(ูุซู ุงูููุบูููุฉ\).

ุชุญุชูู ุฎุงุตูุฉ ุงููุทุงูุงุช"ranges" ุนูู ูุตูููุฉ ูู ูุทุงูุงุช ุฃุญุฑู Unicode ุ ูู ูููุง ุนุจุงุฑุฉ ุนู ุตููู ูููู ูู ุนูุตุฑูู ุจุญุฏ ุฃุฏูู ูุฃุนูู. ูู ุฑูุฒ ุญุฑู ูู ูุฐุง ุงููุทุงู ููุชูู ุฅูู ุงูุฃุจุฌุฏูุฉ. ูููู ุงูุญุฏ ุงูุฃุฏูู ุดุงููุงู \(ุงูุฑูุฒ 994 ูู ุญุฑู ูุจุทู\) ุ ูุงูุญุฏ ุงูุฃุนูู ุบูุฑ ุดุงูู \(ุงูุฑูุฒ 1008 ููุณ ูุฐูู\)

### Filtering arrays

ูููู ุฃู ุชููู ุงููุธููุฉ ุงูุชุงููุฉ ูููุฏุฉ ููุนุซูุฑ ุนูู ุงูุญุฑูู ุงูุฃุจุฌุฏูุฉ ุงูุชู ูุง ุชุฒุงู ููุฏ ุงูุงุณุชุฎุฏุงู. ุชุนูู ูุฐู ุงููุธููุฉ ููุฑุดุญ ููุง ุชุชุถูู ุนูุงุตุฑ ูุง ุชุชูุงูู ูุน ุงูุดุฑุท.

```text
function filter(array, test) {
  let passed = [];
  for (let element of array) {
    if (test(element)) {
      passed.push(element);
    }
  }
  return passed;
}

console.log(filter(SCRIPTS, script => script.living));
// โ [{name: "Adlam", โฆ}, โฆ]
```

ุชุณุชุฎุฏู ุงููุธููุฉ ุงููุณูุทุฉ ุงููุณูุงุฉ test ุ ููู ูููุฉ ุฏุงูุฉ ุ ูููุก "ูุฌูุฉ" ูู ุงูุญุณุงุจ ุงููุงููุงู ุงูุญุณุงุจ - ูุนู ุนูููุฉ ุชุญุฏูุฏ ุงูุนูุงุตุฑ ุงูุชู ูุฌุจ ุฌูุนูุง.

ูุงุญุธ ููู ุฃู ูุธููุฉ ุงูุชุตููุฉ 'filter 'ุ ุจุฏูุงู ูู ุฅุฒุงูุฉ ุงูุนูุงุตุฑ ูู ุงููุตูููุฉ ุ ุชูุดุฆ ูุตูููุฉ ุฌุฏูุฏุฉ ุชุญุชูู ููุท ุนูู ุงูุนูุงุตุฑ ุงูุชู ุชุทุงุจู ุงูุดุฑุท ุ ูุฐู ูุธููุฉ ูููู "pure". ูุงุชุบูุฑ ุงูุตููู ุงููุนุทู .



ูุซู forEach ุ ูุธููุฉ ุงูุชุตููุฉ ูู ุทุฑููุฉ ูุตูููุฉ ููุงุณูุฉ. ูู ุงููุซุงู ุฃุนูุงู ุ ุชู ุชุนุฑูู ุงููุธููุฉ ูุฅุธูุงุฑ ููููุฉ ุนูููุง. ูู ุงูุขู ูุตุงุนุฏูุง ุ ุณูู ูุณุชุฎุฏูู ุนูู ุงููุญู ุงูุชุงูู

ูุซู forEach ู filter ูู ุทุฑููุฉ ูุตูููุฉ ููุงุณูุฉ,  ูู ุงููุซุงู ุฃุนูุงู ุ ุชู ุชุนุฑูู ุงููุธููุฉ ูุฅุธูุงุฑ ููููุฉ ุนูููุง ุฏุงุฎููุง . ูู ุงูุขู ูุตุงุนุฏูุง ุ ุณูู ูุณุชุฎุฏูู ุนูู ุงููุญู ุงูุชุงูู:

```text
console.log(SCRIPTS.filter(s => s.direction == "ttb"));
// โ [{name: "Mongolian", โฆ}, โฆ]
```

### Transforming with map <a id="map"></a>

ูููุชุฑุถ ุฃู ูุฏููุง ูุฌููุนุฉ ูู ุงููุงุฆูุงุช ุงูุชู ุชูุซู ุงูุฃุจุฌุฏูุฉ ุงูุชู ุชู ุฅูุดุงุคูุง ุจุนุฏ ุชุทุจูู ุงููุฑุดุญ ุนูู ูุฌููุนุฉ SCRIPTS. ูููู ุฅุฐุง ูุงู ูุฏููุง ูุฌููุนุฉ ูู ุงูุฃุณูุงุก ุ ูุณุชููู ูููุชูุง ุฃุณูู.

ูุชู ุงุณุชุฎุฏุงู ุทุฑููุฉ ุงูุฎุฑูุทุฉ"map" ูุชุนุฏูู ูุตูููุฉ. ูู ุฎูุงู ุชุทุจูู ุฏุงูุฉ ุนูู ุฌููุน ุนูุงุตุฑ ุงููุตูููุฉ ูุฅูุดุงุก ูุตูููุฉ ุฌุฏูุฏุฉ ูู ุงูููู ุงููุฑุฌุนุฉ. ุนุฏุฏ ุงูุนูุงุตุฑ ูู ุงููุตูููุฉ ุงูุฌุฏูุฏุฉ ูุณุงูู ูุตูููุฉ ุงูุฅุฏุฎุงู. ููู ูุญุชูุงู ูุชุบูุฑ ูู ุฎูุงู ุงููุธููุฉ ุงููุญุฏุฏุฉ.

```text
function map(array, transform) {
  let mapped = [];
  for (let element of array) {
    mapped.push(transform(element));
  }
  return mapped;
}

let rtlScripts = SCRIPTS.filter(s => s.direction == "rtl");
console.log(map(rtlScripts, s => s.name));
// โ ["Adlam", "Arabic", "Imperial Aramaic", โฆ]
```

ุนูู ุบุฑุงุฑ forEach ู filter ุ ูุฅู ุทุฑููุฉ map ูู ุฃูุถูุง ุทุฑููุฉ ูุตูููุฉ ููุงุณูุฉ.

### Summarizing with \(reduce\)ุชูุฎูุต ุงููุตูููุฉ ุจุงูุทุฑููุฉ

ููุงู ูููุฉ ุฃุฎุฑู ุดุงุฆุนุฉ ูุชู ุฅุฌุฑุงุคูุง ุจุงุณุชุฎุฏุงู ุงููุตูููุงุช ููู ุญุณุงุจ ูููุฉ ูุงุญุฏุฉ ูููุง. ูุซุงููุง ุงูููุฑุฑ ูู ุฅุถุงูุฉ ูุฌููุนุฉ ูู ุงูุฃุฑูุงู. ูุซุงู ุขุฎุฑ ูููู ุฃู ูููู ุงูุนุซูุฑ ุนูู ุงูุจุฑูุงูุฌ ุงููุตู  ุงูุชู ุชุญุชูู ุนูู ุฃูุจุฑ ุนุฏุฏ ูู ุงูุฃุญุฑู.

ุชุณูู ุงูุนูููุฉ ุฐุงุช ุงูุชุฑุชูุจ ุงูุฃุนูู ุงูุชู ุชูุซู ูุฐุง ุงูููุท \(reduce\) ุชุณูู ุงุญูุงูุง fold . ุชุฃุฎุฐ ูุฐู ุงูุทุฑููุฉ ุนูุตุฑูุง ูู ุงููุตูููุฉ ุจุดูู ูุชูุฑุฑ ูุชุฏูุฌูุง ูุน ุงููููุฉ ุงูุญุงููู ุ ููุง ููุชุฌ ุนูู ูู ุงูููุงูุฉ ูููุฉ ูุงุญุฏุฉ. ุนูุฏ ุฌูุน ุงูุฃุฑูุงู ุ ุชุจุฏุฃ ุจุตูุฑ ุซู ุชุถูู ุงูุนูุงุตุฑ ูุงุญุฏูุง ุชูู ุงูุขุฎุฑ.

ุงููุนููุงุช  "reduce"ุ ุจุตุฑู ุงููุธุฑ ุนู ุงููุตูููุฉ,  ุชุญุชูู ุนูู ุฏุงูุฉ ูุฑูุจุฉ ููููุฉ ุฃูููุฉ. ูุฐู ุงููุธููุฉ ุฃูู ูุถูุญูุง ูู ูุธููุฉ filter ู map ุ ูุฐุง ุฃูู ูุธุฑุฉ ูุงุญุตุฉ ุนูููุง:

```text
function reduce(array, combine, start) {
  let current = start;
  for (let element of array) {
    current = combine(current, element);
  }
  return current;
}

console.log(reduce([1, 2, 3, 4], (a, b) => a + b, 0));
// โ 10
```

ุชุชููุฒ ุทุฑููุฉ reduceุงููุตูููุฉ ุงูููุงุณูุฉ ุ ูุงูุชู ุชุดุจู ุงููุธููุฉ ุงููุฐููุฑุฉ ุฃุนูุงู ุ ุจููุฒุฉ ุฅุถุงููุฉ. ุฅุฐุง ูุงูุช ุงููุตูููุฉ ุงูุฎุงุตุฉ ุจู ุชุญุชูู ุนูู ุนูุตุฑ ูุงุญุฏ ุนูู ุงูุฃูู ุ ููููู ุญุฐู ูุณูุทุฉ start. ุชุนุชุจุฑ ุงููุธููุฉ ููุณูุง ุงูุนูุตุฑ ุงูุฃูู ูู ุงููุตูููุฉ ููููุฉ ุจุฏุงูุฉ ูุชุจุฏุฃ ุนูููุฉ ุงูุงุฎุชุฒุงู ูู ุงูุนูุตุฑ ุงูุซุงูู.

```text
console.log([1, 2, 3, 4].reduce((a, b) => a + b));
// โ 10
```

ูุงุณุชุฎุฏุงู ุทุฑููุฉ ุงูุงุฎุชุฒุงู \(ูุฑุชูู\) ููุนุซูุฑ ุนูู ุงูุฃุจุฌุฏูุฉ ุงูุชู ุชุญุชูู ุนูู ุฃูุจุฑ ุนุฏุฏ ูู ุงูุฃุญุฑู ุ ูููููุง ูุชุงุจุฉ ุดูุก ูุซู ุงูุฑูุฒ ุฃุฏูุงู:

```text
function characterCount(script) {
  return script.ranges.reduce((count, [from, to]) => {
    return count + (to - from);
  }, 0);
}

console.log(SCRIPTS.reduce((a, b) => {
  return characterCount(a) < characterCount(b) ? b : a;
}));
// โ {name: "Han", โฆ}
```

ุชููู ูุธููุฉ characterCount ุงูููุงุตู ุงูุฒูููุฉ ุงููุฑุชุจุทุฉ ุจุงูุฃุจุฌุฏูุฉ ุนู ุทุฑูู ุฌูุนูุง. ูุงุญุธ ุงุณุชุฎุฏุงู "ุงูุชุฏููุฑ" ูู ูุงุฆูุฉ ุงููุนููุงุช ูู ุฏุงูุฉ ุงูุงุฎุชุฒุงู. ูู ุงูุงุณุชุฏุนุงุก ุงูุซุงูู ููุธููุฉ ุงูุงุฎุชุฒุงู ุ ุชูุณุชุฎุฏู ูุฐู ุงููุชูุฌุฉ ููุนุซูุฑ ุนูู ุฃูุจุฑ ุฃุจุฌุฏูุฉ ุ ููุงุฑู ุงูุฃุจุฌุฏูุฉ ุฒูุฌูุง ูู ุงูุฒูุฌ ููุนูุฏ ุงูุฃุจุฌุฏูุฉ ุงูุฃูุจุฑ.

ุชุญุชูู ุฃุจุฌุฏูุฉ Hanุนูู ุฃูุซุฑ ูู 89000 ุญุฑู ูู ูุนูุงุฑ Unicode ุ ููุง ูุฌุนููุง ุฃูุจุฑ ูุธุงู ูุชุงุจุฉ ูู ุงููุฌููุนุฉ. Han ูู ุงูุฃุจุฌุฏูุฉ ุงููุณุชุฎุฏูุฉ \(ุฃุญูุงููุง\) ูููุตูุต ุงูุตูููุฉ ูุงููุงุจุงููุฉ ูุงูููุฑูุฉ. ูุฐู ุงููุบุงุช ููุง ุงูุนุฏูุฏ ูู ุงูุดุฎุตูุงุช ุงููุดุชุฑูุฉ ุ ุนูู ุงูุฑุบู ูู ุงุฎุชูุงู ูุชุงุจุชูุง. ูุฑุฑ ุงุชุญุงุฏ Unicode Consortium \(ูููุฑู ุงูููุงูุงุช ุงููุชุญุฏุฉ\) ุงุนุชุจุงุฑูุง ูุธุงู ูุชุงุจุฉ ูุงุญุฏ ูุงุณุชุฎุฏุงู ุฑูุฒ ุฃูู ููุญุฑูู. ูุฐุง ูุง ูุณูู ุจุชูุญูุฏ ุฃุจุฌุฏูุฉ Han ุ ูุงูุชู ูุง ุชุฒุงู ุชุซูุฑ ุบุถุจ ุจุนุถ ุงููุงุณ.



### Composability ุงูุฏูุฌ 

ููุฑ ูู ููููุฉ ูุชุงุจุฉ ุงููุซุงู ุงูุณุงุจู \(ุฅูุฌุงุฏ ุฃูุจุฑ ุฃุจุฌุฏูุฉ\) ุฏูู ุงุณุชุฎุฏุงู ูุธููุฉ ุงููุณุชูู ุงูุฃุนูู. ูู ุชุนูู ุจุดูู ุณูุก 

```text
let biggest = null;
for (let script of SCRIPTS) {
  if (biggest == null ||
      characterCount(biggest) < characterCount(script)) {
    biggest = script;
  }
}
console.log(biggest);
// โ {name: "Han", โฆ}
```

ููุงู ุนุฏุฏ ูููู ูู ุงูุงุฑุชุจุงุทุงุช ุ ูุงูุจุฑูุงูุฌ ุฃุทูู ุจุฃุฑุจุนุฉ ุฃุณุทุฑ. ููููุง ูุง ุชุฒุงู ุณููุฉ ุงููุฑุงุกุฉ.

ุชุจุฏุฃ ุงููุธุงุฆู ุงููุชุทูุฑุฉ ูู ุงูุชููุฌ ุนูุฏูุง ุชุญุชุงุฌ ุฅูู ุฏูุฌ ุงูุนูููุงุช. ุนูู ุณุจูู ุงููุซุงู ุ ุฏุนูุง ููุชุจ ุฑูุฒูุง ูุนุซุฑ ุนูู ูุชูุณุท โโุณูุฉ ุงูุฅูุดุงุก ููุฃุจุฌุฏูุงุช ุงูุญูุฉ ูุงููุฏููุฉ.

```text
function average(array) {
  return array.reduce((a, b) => a + b) / array.length;
}

console.log(Math.round(average(
  SCRIPTS.filter(s => s.living).map(s => s.year))));
// โ 1188
console.log(Math.round(average(
  SCRIPTS.filter(s => !s.living).map(s => s.year))));
// โ 188
```

ูุฐูู ุ ูู ุงููุชูุณุท โโุ ุงูุญุฑูู ุงููุฌุงุฆูุฉ ุงููุชูุงุฏูุฉ ูู Unicode ุฃูุฏู ูู ุงูุฃุจุฌุฏูุฉ ุงูุญูุฉ. ูุฐู ุงููุชูุฌุฉ ูุง ุชุนูู ุงููุซูุฑ ุฃู ุฃููุง ููุณุช ุฅุญุตุงุฆูุฉ ููุงุฌุฆุฉ. ููู ุฃุฑุฌู ุฃู ุชุชูู ูุนู ูู ุฃู ุงูููุฏ ุงููุณุชุฎุฏู ูุญุณุงุจ ูุฐู ุงููุชูุฌุฉ ููุฑูุก. ููููู ุงูุชูููุฑ ูู ุงูุฃูุฑ ูุฎุท ุฃูุงุจูุจ: ูุจุฏุฃ ุจูู ุงูุญุฑูู ุงูุฃุจุฌุฏูุฉ ุ ููููู ุจุชุตููุฉ ุงูุนูุงุตุฑ ุงูุญูุฉ \(ุฃู ุงููุฏููุฉ\) ุ ููุณุชุบุฑู ุณููุงุช ูููุง ุ ููููู ุจุชูุณูุท ุงููุชูุฌุฉ ูุชูุฑูุจูุง.

ูููู ุจุงูุชุฃููุฏ ุชูููุฐ ูุฐุง ุงูุญุณุงุจ ุจูุงุณุทุฉ ุญููุฉ ูุจูุฑุฉ.

```text
let total = 0, count = 0;
for (let script of SCRIPTS) {
  if (script.living) {
    total += script.year;
    count += 1;
  }
}
console.log(Math.round(total / count));
// โ 1188
```

ููู ูู ุงูุตุนุจ ูููุณ  ุณูู ูุนุฑูุฉ ูุง ุชู ุญุณุงุจู ูููู, ููุฃู ุงููุชุงุฆุฌ ุงููุณูุทุฉ ูุง ุชุธูุฑ ูููู ุฐุงุช ุตูุฉ ููุชูุงุณูุฉ ุุณูููู ููุงู ุงููุซูุฑ ูู ุงูุนูู ูุงุณุชุฎุฑุงุฌ ุดูุก ูุซู 'average' ,ูุงุฎุฑุงุฌู ููุธููู ูููุตูู 

ุงุนุชูุงุฏูุง ุนูู ูุง ููุนูู ุงูููุจููุชุฑ ุจุงููุนู ุ ุชุฎุชูู ุงูุทุฑููุชุงู ูุณุจููุง.  ูู ุงูุญุงูุฉ ุงูุฃููู ุ ูุชู ุฅูุดุงุก ูุตูููุฉ ุฌุฏูุฏุฉ ุจุนุฏ ุชุดุบูู filter ูmap  ุ ููุน ุฐูู ุ ูู ุงูุญุงูุฉ ุงูุซุงููุฉ ุ ุชุชู ุงูุนูููุงุช ุงูุญุณุงุจูุฉ ููุท ุนูู ุงูุฃุฑูุงู ููุชู ุฅูุฌุงุฒ ุนูู ุฃูู .ุนุงุฏุฉู ูุง ูููู ุงุณุชุฎุฏุงู ุทุฑููุฉ ุฃูุซุฑ ูุงุจููุฉ ูููุฑุงุกุฉ ูุงุจูุงู ููุงุณุชุฎุฏุงู ูููุทูููุง ุ ูููู ุฅุฐุง ููุช ุณุชุนุงูุฌ ูุตูููุงุช ูุจูุฑุฉ ุฌุฏูุง ุ ูููุช ุจุฐูู ูุซูุฑูุง ุ ูุฅู ุงุณุชุฎุฏุงู ุทุฑููุฉ ุฃูู ูุงุจููุฉ ูููุฑุงุกุฉ ูุงูุชุฌุฑูุฏ ูุณุชุญู ุงูุณุฑุนุฉ ุงูุชู ุชุญุตู ุนูููุง.

### Strings and character codesุณูุงุณู ูุฑููุฒ ุงูุฃุญุฑู

ุชุฐูุฑ ุฃู ูู ุจุฑูุงูุฌ ูุตู ูุญุชูู ุนูู ูุฌููุนุฉ ูู ูุทุงูุงุช ุฑููุฒ ุงูุฃุญุฑู ุงููุฑุชุจุทุฉ ุจู. ูุฐูู ุ ุจุงููุธุฑ ุฅูู ุฑูุฒ ุงูุญุฑู ุ ูููููุง ุงุณุชุฎุฏุงู ูุธููุฉ ูุซู ูุฐู ููุนุซูุฑ ุนูู ุงูุจุฑูุงูุฌ ุงููุตู ุงูููุงุจู \(if any\):

```text
function characterScript(code) {
  for (let script of SCRIPTS) {
    if (script.ranges.some(([from, to]) => {
      return code >= from && code < to;
    })) {
      return script;
    }
  }
  return null;
}

console.log(characterScript(121));
// โ {name: "Latin", โฆ}
```

ุทุฑููุฉ some ูู ูุธููุฉ ุฃุฎุฑู ุนุงููุฉ ุงูุฌูุฏุฉ. ุชุฃุฎุฐ ูุฐู ุงูุทุฑููุฉ ูุธููุฉ ูุดุฑุท. ููุทุจู ูุฐุง ุงูุดุฑุท ุนูู ูู ุนูุตุฑ ูู ุนูุงุตุฑ ุงููุตูููุฉ ุ ูุฅุฐุง ูุงู ุตุญูุญูุง ุจุงููุณุจุฉ ููุงุญุฏ ูููู ุนูู ุงูุฃูู ุ ูุฅู ุงูุฏุงูุฉ ุชุฑุฌุน ุตุญูุญูุง.

ููู ููู ูุญุตู ุนูู ุฑููุฒ ุงูุฃุญุฑู ูุณูุณูุฉุ

ููุฏ ุฐูุฑุช ูู [Chapter 1](https://eloquentjavascript.net/01_values.html)  ุฃูู ูู JavaScript ุ ูุชู ุชุดููุฑ ุงูุณูุงุณู ูุณูุณูุฉ ูู ุฃุฑูุงู 16 bit ุชุณูู ูุญุฏุงุช ุงูููุฏ. ูู ุงูุจุฏุงูุฉ ุ ูุงู ูู ุงูููุชุฑุถ ุฃู ูููู ูู ุฑูุฒ ุญุฑู ูู Unicode ูู ุฅุญุฏู ูุฐู ุงููุญุฏุงุช \(ูุงูุชู ุชููุญู ูุง ูุฒูุฏ ููููุงู ุนู 65000 ุญุฑู\). ุนูุฏูุง ุงุชุถุญ ุฃู ูุฐุง ูู ููู ูุงูููุง ุ ุชุฌูุจ ุงููุซูุฑ ุชุฎุตูุต ุฐุงูุฑุฉ ุฃูุจุฑ ููู ุดุฎุตูุฉ. ูุญู ูุฐู ุงููุดููุฉ ุ ุชู ุงุฎุชุฑุงุน UTF-16 ุ ููู ุชูุณูู ูุณุชุฎุฏู ูุณูุงุณู JavaScript. ูุตู ูุฐุง ุงููุธุงู ุงูุฃุญุฑู ุงูุฃูุซุฑ ุดููุนูุง ุจูุญุฏุฉ ุฑูุฒ ูุงุญุฏุฉ ุฐุงุช 16 bit ุ ูููู ุจุงููุณุจุฉ ููุฑููุฒ ุงูุฃุฎุฑู ุ ูุฅูู ูุณุชุฎุฏู ูุญุฏุชูู.

ูู ูุฐู ุงูุฃูุงู ุ ูุนุชุจุฑ UTF-16 ุจุดูู ุนุงู ููุฑุฉ ุณูุฆุฉ. ูุจุฏู ุฃูู ุชู ุชุตูููู ุนู ูุตุฏ ููููู ูุถููุงู. ููููู ุจุณูููุฉ ูุชุงุจุฉ ุงูุจุฑุงูุฌ ุงูุชู ูุง ูุจุฏู ุฃููุง ุชููุฒ ุจูู ุงููุญุฏุงุช ูุงูุฃุญุฑู ูู ุงูููุฏ ูุชุนูู ุจุฏูู ูุดุงูู. ูููู ุจูุฌุฑุฏ ุฃู ูุญุงูู ุดุฎุต ูุง ุงุณุชุฎุฏุงู ูุซู ูุฐู ุงูุจุฑุงูุฌ ููุชุงุจุฉ ุจุนุถ ุงูุฃุญุฑู ุงูุตูููุฉ ุบูุฑ ุงูุนุงุฏูุฉ ุ ูุชุนุทู ุงูุจุฑูุงูุฌ. ูุญุณู ุงูุญุธ ุ ูุน ุธููุฑ ุงูุฑููุฒ ุงูุชุนุจูุฑูุฉ ุ ุชุญูู ุงูุฌููุน ุฅูู ุงุณุชุฎุฏุงู ุงูุฃุญุฑู ุงูููููุฉ ูู ุญุฑููู ุ ูุชู ุชูุฒูุน ูุณุคูููุฉ ุงูุชุนุงูู ูุน ูุซู ูุฐู ุงููุดููุงุช ุจุดูู ุฃูุซุฑ ุฅูุตุงููุง.

ูุณูุก ุงูุญุธ ุ ูู JavaScript ุ ุชุฏุนู ุงูููุงู ุงูุตุฑูุญุฉ ุนูู ุงูุณูุงุณู ุ ูุซู ุชุญุฏูุฏ ุทูููุง ุญุณุจ ุฎุงุตูุฉ length ูุงููุตูู ุฅูู ูุญุชููุงุชูุง ูู ุฎูุงู ุงูุฃููุงุณ ุ ูุญุฏุงุช ุงูููุฏ ููุท.

```text
// Two emoji characters, horse and shoe
let horseShoe = "๐ด๐";
console.log(horseShoe.length);
// โ 4
console.log(horseShoe[0]);
// โ (Invalid half-character)
console.log(horseShoe.charCodeAt(0));
// โ 55357 (Code of the half-character)
console.log(horseShoe.codePointAt(0));
// โ 128052 (Actual code for horse emoji)
```

ุชููุญู ุทุฑููุฉ charCodeAt ูู JavaScript ูุญุฏุฉ ุดูุฑุฉ ุ ููุณ ุฑูุฒ ุญุฑู ูุงูู. ุชุฑุฌุน ุทุฑููุฉ codePointAt ุ ุงูุชู ุชูุช ุฅุถุงูุชูุง ูุงุญููุง ุ ุฑูุฒ ุฃุญุฑู Unicode ุงููุงูู. ูุฐุง ูููููุง ุงุณุชุฎุฏุงู ูุฐู ุงูุทุฑููุฉ ููุญุตูู ุนูู ุฃุญุฑู ุณูุณูุฉ. ููู ุงููุณูุทุฉ ุงููุฑุณูุฉ ุฅูู ุทุฑููุฉ codePointAt ูุง ุชุฒุงู ุนุจุงุฑุฉ ุนู ููุฑุณ ูุฃุฎูุฐ ูู ุชุณูุณู ุฑูุฒ ูุงุญุฏ. . ูุน ุฃุฎุฐ ุฐูู ูู ุงูุงุนุชุจุงุฑ ุ ููุชููู ุนุจุฑ ุฌููุน ุงูุฃุญุฑู ูู ุณูุณูุฉ ุ ูุง ุฒููุง ุจุญุงุฌุฉ ุฅูู ูุนุฑูุฉ ุฃู ูู ุญุฑู ูุดุบู ูุญุฏุฉ ุฃู ูุญุฏุชูู ูู ุงูููุฏ.

ูู  [previous chapter](https://eloquentjavascript.net/04_data.html#for_of_loop) ุ ุฐูุฑุช ุฃูู ูููู ุฃูุถูุง ุงุณุชุฎุฏุงู ุญููุฉ for / of ููุณูุงุณู ุงููุตูุฉ, ูุซู codePointAt , ุชู ุชูุฏูู ูุฐุง ุงูููุน ูู ุงูุญููุงุช ูู ููุช ูุงู ุงููุงุณ ุนูู ุฏุฑุงูุฉ ุชุงูุฉ ุจูุดููุงุช UTF-16. ุนูุฏ ุงุณุชุฎุฏุงูู ููุชูุฑุงุฑ ุนูู ุณูุณูุฉ ุ ูุฅูู ูููุญู ุฃุญุฑููุง ุญููููุฉ ุ ูููุณ ูุญุฏุงุช ุฑูุฒ.

```text
let roseDragon = "๐น๐";
for (let char of roseDragon) {
  console.log(char);
}
// โ ๐น
// โ ๐
```

ุฅุฐุง ูุงู ูุฏูู ุญุฑู \(ููู ุนุจุงุฑุฉ ุนู ุณูุณูุฉ ูู ูุญุฏุฉ ุฃู ูุญุฏุชูู ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ\), ููููู ุงุณุชุฎุฏุงู ุทุฑููุฉ codePointAt \(0\) ููุญุตูู ุนูู ุงูููุฏ ุงูููุงุจู.

### Recognizing text ุงูุชุนุฑู ุนูู ุงููุต

ุญุชู ุงูุขู ูุฏููุง ูุธููุฉ ุชุณูู CharacterScript ูุน ุทุฑููุฉ ููุชููู ุจูู ุงูุดุฎุตูุงุช. ุงูุฎุทูุฉ ุงูุชุงููุฉ ูู ุณุฑุฏ โโุงูุฃุญุฑู ุงูุชู ุชุชูุงูู ูุน ูู ุฃุจุฌุฏูุฉ. ูููู ุงุณุชุฎุฏุงู ุงููุธููุฉ ุงูุชุงููุฉ ููููุงู ุจุฐูู:

```text
function countBy(items, groupName) {
  let counts = [];
  for (let item of items) {
    let name = groupName(item);
    let known = counts.findIndex(c => c.name == name);
    if (known == -1) {
      counts.push({name, count: 1});
    } else {
      counts[known].count++;
    }
  }
  return counts;
}

console.log(countBy([1, 2, 3, 4, 5], n => n > 2));
// โ [{name: false, count: 2}, {name: true, count: 3}]
```

ุชุณุชูุจู ูุธููุฉ countBy ุ ููุณูุทุฉ ุ ูุฌููุนุฉ \(ุฃู ุดูุก ูููู ุชูุฑูุฑู for / of\) ุฌูุจูุง ุฅูู ุฌูุจ ูุน ูุธููุฉ ููุชุฌููุน. ูุงุชุฌ ูุฐู ุงููุธููุฉ ุ ุฅููุง ูุฌููุนุฉ ูู ุงููุงุฆูุงุช ุ ูู ูููุง ููุซู ูุฌููุนุฉ ุ ุชุฎุจุฑู ุจุนุฏุฏ ุงูุนูุงุตุฑ ุงูููุฌูุฏุฉ ูู ุชูู ุงููุฌููุนุฉ.

ุชุณุชุฎุฏู ูุฐู ุงููุธููุฉ ููุณูุง ุทุฑููุฉ ุฃุฎุฑู ุชุณูู findIndex. ุชุนูู ูุฐู ุงูุทุฑููุฉ ุจุดูู ูุดุงุจู ูู indexOf. ูููู ุจุฏูุงู ูู ุงูุจุญุซ ุนู ูููุฉ ูุญุฏุฏุฉ ุ ูุฅูู ูุจุญุซ ุนู ุงููููุฉ ุงูุฃููู ุงููุนุทุงุฉ ููุฏุงูุฉ. ูุนูุฏ ุตุญูุญ ุจูุฐู ุงููููุฉ. ูุซู indexOf ุ ุฅุฐุง ูู ูุชู ุงูุนุซูุฑ ุนูู ุนูุตุฑ ุจูุฐู ุงูุดุฑูุท ุ ูุชู ุฅุฑุฌุงุน 1-.

ุจุงุณุชุฎุฏุงู countBy ูููููุง ูุชุงุจุฉ ุฏุงูุฉ ุชุญุฏุฏ ุงูุฃุจุฌุฏูุฉ ูููุต ููุง.

```text
function textScripts(text) {
  let scripts = countBy(text, char => {
    let script = characterScript(char.codePointAt(0));
    return script ? script.name : "none";
  }).filter(({name}) => name != "none");

  let total = scripts.reduce((n, {count}) => n + count, 0);
  if (total == 0) return "No scripts found";

  return scripts.map(({name, count}) => {
    return `${Math.round(count * 100 / total)}% ${name}`;
  }).join(", ");
}

console.log(textScripts('่ฑๅฝ็็่ฏด"woof", ไฟ็ฝๆฏ็็่ฏด"ััะฒ"'));
// โ 61% Han, 22% Latin, 17% Cyrillic
```

ุชููู ุงููุธููุฉ ุฃุนูุงู ุฃููุงู ุจุชุณููุฉ ุนุฏุฏ ุงูุฃุญุฑู ุ ูุชุนููู ุงุณู ููุง ุจุงุณุชุฎุฏุงู CharacterScript ุ ูุฅุฑุฌุงุน ูููุฉ "ุจูุง" ููุฃุญุฑู ุงูุชู ููุณุช ุฌุฒุกูุง ูู ุฃู ุฃุจุฌุฏูุฉ. ุชุฒูู ูุธููุฉ filter ูู "null" ูู ูุตูููุฉ ุงููุชุงุฆุฌ ุ ูุฃููุง ูุณูุง ููุชููู ุจูุฐู ุงูุฃุญุฑู.

ููู ูุชููู ูู ุญุณุงุจ ุงููุณุจ ุงููุฆููุฉ ุ ูุญุชุงุฌ ุฃููุงู ุฅูู ุนุฏุฏ ุฌููุน ุงูุฃุญุฑู ุงูุชู ุชูุชูู ุฅูู ุงูุฃุจุฌุฏูุฉ ุ ููู ูุง ูููููุง ูุนูู reduce . ุฅุฐุง ูู ูุชู ุงูุนุซูุฑ ุนูู ูุฐู ุงูุฃุญุฑู ุ ุชููู ุงูุฏุงูุฉ ุจุฅุฑุฌุงุน ุณูุณูุฉ ูุญุฏุฏุฉ. ุจุฎูุงู ุฐูู ุ ุชููู ูุธููุฉ ุงูุฎุฑูุทุฉ'map' ุจุชุญููู ุงูุนูุงุตุฑ ุงููุญุณูุจุฉ ุฅูู ุณูุงุณู ููุงุณุจุฉ ูููุฑุงุกุฉ ุ ุซู ุชููู ูู ุงูููุงูุฉ ุจุฑุจุทูุง ูุนูุง ุนู ุทุฑูู ุงูุงูุถูุงู'join'.

### Summary

ุฃุญุฏ ุฃูุซุฑ ุฌูุงูุจ JavaScript ุนูููุง ูู ุงููุฏุฑุฉ ุนูู ุฅุฑุณุงู ููู ุฏุงูุฉ ุฅูู ูุธุงุฆู ุฃุฎุฑู. ูุณูุญ ููุง ุจูุชุงุจุฉ ุงููุธุงุฆู ุงูุชู ุชุณุชุฎุฏู ูููุฐุฌ ุงูุญุณุงุจุงุช"gaps",ูููู,  ูููู ููููุฏ ุงูุฐู ูุณุชุฏุนู ูุฐู ุงููุธุงุฆู ุฃู ูููุฃ ุงููุฌูุงุช ูู ุฎูุงู ุชูููุฑ ููู ุงููุธููุฉ.

ุชููุฑ ุงููุตูููุงุช ูุฌููุนุฉ ูููุฏุฉ ูู ุงููุธุงุฆู ุนุงููุฉ ุงููุณุชูู, ููููู ุงุณุชุฎุฏุงู forEach ููุชููู ุจูู ุนูุงุตุฑ ุงููุตูููุฉ. ูุฅุฑุฌุงุน ูุตูููุฉ ุฌุฏูุฏุฉ ุจุนูุงุตุฑ ููุง ุดุฑูุท ุฎุงุตุฉ, ุทุฑููุฉ ุงูุชุตููุฉ'filter' ูููุฏุฉ. ูุชู ุชุญููู ุงููุตูููุฉ ุนู ุทุฑูู ูุถุน ูู ุนูุตุฑ ูู ุฎูุงู ุฏุงูุฉ ุจุงุณุชุฎุฏุงู ุงูุฎุฑูุทู 'map'. ูุชู ุงุณุชุฎุฏุงู reduce ูุฏูุฌ ุฌููุน ุนูุงุตุฑ ุงููุตูููุฉ ูุฅูุดุงุก ูููุฉ ูุงุญุฏุฉ.  ูุชุญูู ุงูุฃุณููุจ some ููุง ุฅุฐุง ูุงู ุนูุตุฑ ูุงุญุฏ ุนูู ุงูุฃูู ูู ุงููุตูููุฉ ูุทุงุจู ุดุฑุท ุฏุงูุฉ ุงูุฅุฏุฎุงู ุ ููุนูุฏ findIndex ููุถุน ุงูุนูุตุฑ ุงูุฃูู ุงูุฐู ูุทุงุจู ุงูุดุฑุท ุงูุฐู ุชู ุชูุฑูุฑู.

### Exercises

#### Flattening

ุจุงุณุชุฎุฏุงู ุทุฑููุฉ reduceูุฏูุฌูุง ูุน concat ุ ุฎุฐ ูุตูููุฉ ูู ุงููุตูููุงุช ูุฃูุดุฆ ูุตูููุฉ ูุณุทุญุฉ 'flatten' ุชุญุชูู ุนูู ุฌููุน ุนูุงุตุฑ ุงููุตูููุฉ ุงูุฑุฆูุณูุฉ.

```text
let arrays = [[1, 2, 3], [4, 5], [6]];
// Your code here.
// โ [1, 2, 3, 4, 5, 6]
```

#### Your own loop

ุงูุชุจ ุฏุงูุฉ ุฐุงุช ุฑุชุจุฉ ุฃุนูู 'loop'  ุงูุชู ุชูุฏู ุดูุฆูุง ูุซู ุชุนูููุฉ ุญููุฉ for. ุชุณุชูุจู ูุฐู ุงููุธููุฉ ูููุฉ ุ ูุฏุงูุฉ ุดุฑุทูุฉ ุ ููุธููุฉ ุชุญุฏูุซ ุ ูุฌุณู ุฏุงูุฉ ููุณูุทุฉ. ูู ูู ุชูุฑุงุฑ ุ ูููุฐ ุฃููุงู ุฏุงูุฉ ุงูุดุฑุท ุนูู ุงููููุฉ ุงูุญุงููุฉ ููุญููุฉ ููุชููู ุฅุฐุง ูุงู ูููุฏ ุฎุทุฃ 'false '. ุซู ูููุฐ ุงูุฌุณู ุงููุธููุฉ ุงููุฑุณูุฉ ูู ุฎูุงู ุฅุนุทุงุฆูุง ุงููููุฉ ุงูุญุงููุฉ. ุฃุฎูุฑูุง ุ ูุฅูุดุงุก ูููุฉ ุฌุฏูุฏุฉ ุ ูุฅูู ูุณุชุฏุนู ูุธููุฉ ุงูุชุญุฏูุซ ููุจุฏุฃ ูู ุงูุจุฏุงูุฉ.

ุนูุฏ ุชุญุฏูุฏ ูุธููุฉ ุ ููููู ุงุณุชุฎุฏุงู ุญููุฉ ููุชุธูุฉ ูุชูููุฐ ุงูุญููุฉ ุงูุฑุฆูุณูุฉ

```text
// Your code here.

loop(3, n => n > 0, n => n - 1, console.log);
// โ 3
// โ 2
// โ 1
```

#### Everything

ุนูู ุบุฑุงุฑ some  ุ ุชูุชูู ุงููุตูููุงุช ุทุฑููุฉ ุชุณูู every . ุชุฑุฌุน ูุฐู ุงูุทุฑููุฉ true ุนูุฏูุง ุชู ุฅุนุทุงุก ุงููุธููุฉ ูุฌููุน ุนูุงุตุฑ ุงููุตูููุฉ, ุชูููุฏ ุงููููุฉ ุงูุญููููุฉ. ุจุทุฑููุฉ ูุงุ ูุณุฎุฉ ูู ุนุงูู ุงูุชุดุบูู \|\| ุฅูู ูุนูู ุนูู ุงููุตูููุงุช ุ ููุนูู ูู ุดูุก ูุซู ุนุงูู ุงูุชุดุบูู &&.

ููููุฐ every ูุฏุงูุฉ ุชุณุชูุจู ูุตูููุฉ ูุฏุงูุฉ. ุงูุชุจ ูุณุฎุชูู ูู ูุฐู ุงูุฏุงูุฉ ุ ุฃุญุฏููุง ูุณุชุฎุฏู ุงูุญููุฉ ูุงูุขุฎุฑ ุจุงุณุชุฎุฏุงู ุทุฑููุฉ ุจุนุถ some.

```text
function every(array, test) {
  // Your code here.
}

console.log(every([1, 3, 5], n => n < 10));
// โ true
console.log(every([2, 4, 16], n => n < 10));
// โ false
console.log(every([], n => n < 10));
// โ true
```

#### Dominant writing direction

ุงูุชุจ ุฏุงูุฉ ูููููุง ุญุณุงุจ ุงูุงุชุฌุงู ุงูุณุงุฆุฏ ูููุต. ุชุฐูุฑ ุฃู ููู ูุงุฆู ุฃุจุฌุฏู ุฎุงุตูุฉ ุชุณูู direction ุ ูุงูุชู ูููู ุฃู ุชููู "ltr" \(ูู ุงููุณุงุฑ ุฅูู ุงููููู\) ุ ุฃู "rtl" \(ูู ุงููููู ุฅูู ุงููุณุงุฑ\) ุ ุฃู "ttb" \(ุฃุนูู ูุฃุณูู\).

ุงูุงุชุฌุงู ุงูุณุงุฆุฏ ูู ุงููุชุงุจุฉ ูู ุงูุงุชุฌุงู ุงูุฐู ุชุชู ููู ูุชุงุจุฉ ูุนุธู ุงูุฃุญุฑู ุฐุงุช ุงูุฃุจุฌุฏูุฉ ุงููุญุฏุฏุฉ. ูู ุงููุญุชูู ุฃู ุชุนูู ุงูุฏุงูุชุงู ุงูููุชูุจุชุงู ูุณุจููุง ูู CharacterScript ู countBy ููุง.

```text
function dominantDirection(text) {
  // Your code here.
}

console.log(dominantDirection("Hello!"));
// โ ltr
console.log(dominantDirection("Hey, ูุณุงุก ุงูุฎูุฑ"));
// โ rtl
```

