# Program Structure

> يسطع احمرار قلبي تحت بشرتي الرقيقة الصافية ، وعليهم حقني بـ 10 سم مكعب من جافا سكريبت لإعادتي إلى الحياة. \(يا رجل ، تلك الأشياء ستطرد الخوخ من خياشيمك\).

 هذه القمامة تأخذ أنفاسك على الفور!

![](https://eloquentjavascript.net/img/chapter_picture_2.jpg)

في هذا الفصل ، سنبدأ في فعل شيء يمكن أن يُطلق عليه حقًا البرمجة.نريد توسيع معرفتنا ب JavaScript إلى ما هو أبعد من الأسماء والأقسام الصغيرة التي رأيناها حتى الآن, تطور إلى الحد الذي يمكننا فيه وضع خطط ذات مغزى.

### Expressions and statements

في الفصل الأول ، صنعنا القيم وطبقنا عوامل التشغيل عليها للحصول على قيم جديدة. إنشاء قيم مثل هذه هو المادة الأساسية لأي برنامج JavaScript. لكن يجب وضع هذه المادة الأساسية في هيكل أكبر ليتم تطبيقها. هذا ما سنتناوله في هذا الفصل

يُطلق على مقتطف الشفرة الذي يُنشئ قيمة جملة \( _expression_\). كل قيمة مكتوبة حرفيا مثل

 \(such as `22` or `"psychoanalysis"`\)

تعتبر هذه القيمه تعبيرا اي بالمصطلح الانجليزي \(expression\), التعبير بين الأقواس هو أيضًا تعبير ,وبالمثل ، فإن عامل التشغيل الثنائي ، إذا تم تطبيقه على تعبيرين ، أو عامل واحد ، إذا تم تطبيقه على تعبير واحد ، ينتج تعبيرًا جديدًا.

تُظهر طريقة التعبير عن العبارات هذه ركنًا من جمال تشابه لغة البرمجة مع لغة طبيعية. تمامًا مثل الجمل الفرعية في اللغات البشرية ، يمكن دمج العبارات. يمكن أن تحتوي فئة فرعية على فئة فرعية أخرى وما إلى ذلك. تتيح لنا هذه الميزة دمج التعبيرات لإجراء عمليات حسابية أكثر تعقيدًا.

إذا اعتبرنا أن التعبير يعادل جزءًا من الجملة, امر \(statement\) يتوافق مع جملة كاملة. البرنامج عبارة عن قائمة من البيانات.

أبسط نوع من البيان هو تعبير به فاصلة منقوطة بعده. مثال :

```text
1;
!false;
```

بالطبع ، لا يوجد تطبيق للبرنامج أعلاه. يمكن أن ينتج عن التعبير قيمة ،القيمة التي سيتم استخدامها لاحقًا بواسطة الكود المحيط. يعمل الأمر بشكل مستقل ولا يمكن تسميته أمرًا صالحًا إلا عندما يترك تأثيرًا.يمكنه أيضًا عرض شيء ما على الشاشة - والذي يعتبر تأثيرًا - أو تغيير الحالة الداخلية للبرنامج للتأثير على العبارات اللاحقة. هذه التغييرات لها آثار جانبية   \(_side effects_\) يطلق عليهم. في المثال السابق, الأوامر التي تم إعطاؤها هي مجرد كميات  `1` و `true` أنتجت وتركت على الفور دون استخدام. هذا ليس له أي تأثير على الإطلاق. لا يحدث أي حدث مرئي أثناء تشغيل هذا البرنامج. 

في بعض الحالات ، يمكنك تخطي الفاصلة في نهاية الأمر في JavaScript. في حالات أخرى ، يجب استخدامه ، وإلا فسيتم اعتبار السطر التالي استمرارًا للأمر السابق. يمكن أن تكون قواعد إزالة أو إدراج فاصلة منقوطة في أمر ما معقدة وخاطئة. لذلك في هذا الكتاب ، ينتهي أي أمر يحتاج إلى فاصلة منقوطة بفاصلة منقوطة. نصيحتي هي أن تفعل الشيء نفسه ، على الأقل حتى نتعلم المزيد عن الفواصل.

### Bindings

كيف يحافظ التطبيق على الوضع الداخلي؟ كيف يتذكر البرنامج الأشياء؟  لقد رأينا كيف ننتج قيمًا جديدة من القيم القديمة  ، لكن هذا لا يغير القيم القديمة ، ويجب استخدام القيم الجديدة على الفور وإلا لن تكون متاحة. توفر JavaScript شيئًا    يسمى binding or variables:

`let caught = 5 * 5;`

هذا هو النوع الثاني من البيانات. الكلمة الرئيسية \( let \) يشير أن هذه الجملة من المفترض أن تحدد ارتباطا. بعد هذه الكلمة يظهر اسم المتغير ،إذا أردنا أن نعطيها قيمة على الفور، بواسطة عامل تشغيل = وتعبير.

الأمر أعلاه يسمى متغير  `caught`  ويستخدم  للاحتفاظ برقم تم إنشاؤه بضرب 5 في 5. 

بعد تحديد المتغير ،يمكن استخدام اسمه  كعبارة,  **قيمة هذا النوع من التعبير هي القيمة التي يحملها المتغير الآن**. ضع في اعتبارك على سبيل المثال:

```text
let ten = 10;
console.log(ten * ten);
// → 100
```

**عندما يشير متغير إلى قيمة ، فهذا لا يعني أنه مرتبط بها إلى الأبد. يمكن استخدام عامل التشغيل = في أي وقت لفصل المتغيرات الحالية عن القيم التي تشير إليها وتخصيصها لقيم جديدة.**

```text
let mood = "light";
console.log(mood);
// → light
mood = "dark";
console.log(mood);
// → dark
```

يمكنك تشبيه المتغيرات بالأذرع بدلاً من صناديق. إنهم لا يحتفظون بالقيم  لكن يمكنك الوصول إليها - يمكن أن يشير متغيرين إلى نفس القيمة. يمكن للتطبيق الوصول إلى القيم التي لا يزال بإمكانه الرجوع إليها فقط.الوصول. عندما تحتاج إلى حفظ شيء ما في البرنامج ، أرسل ذراعًا إليه للاحتفاظ به ، أو قم بتعيين أحد الذراع الحالية لهذا الكائن.

لنلق نظرة على مثال آخر. يمكنك استخدام متغير لتذكيرك بالدولارات التي لا يزال Luigi مدينًا لك بها. عندما يعيد 35 دولارًا ، فإنك تغير قيمة المتغير.

```text
let luigisDebt = 140;
luigisDebt = luigisDebt - 35;
console.log(luigisDebt);
// → 105
```

عندما تحدد متغيرًا ولكن لا تحدد قيمة أولية له ،  الذراع التي قدمناها كمثال ليس لديها ما تشير إليه حتى الآن لذلك لن يشير إلى مكان معين, إذا طلبت متغيرًا فارغًا في مكان ما في البرنامج.  المبلغ الذي سيتم إرجاعه لك سيكون undefiend 

يمكن أن يكون من واحد let  تستخدم لتعريف عدة متغيرات. يجب فصل هذه التعريفات بفواصل \(,\) مثال على ذلك  :

```text
let one = 1, two = 2;
console.log(one + two);
// → 3
```

اما كلمات var و const  يمكن أيضًا استخدامها لإنشاء ارتباطات ، بطريقة مشابهة لـ let.

```text
var name = "Ayda";
const greeting = "Hello ";
console.log(greeting + name);
// → Hello Ayda
```

الكلمة الأساسية الأولى ،  var اختصارا ل \( variable\) كانت هذه هي الطريقة التي تم بها تحديد المهام في إصدار ما قبل 2015 من JavaScript.  سنتعامل معا الاختلاف بينها وبين let في الفصل الاخر, في الوقت الحالي ، ضع في اعتبارك أن كلاهما يفعل نفس الشيء معظم الوقت ,  لكننا نادرًا ما نستخدمه في هذا الكتاب لأنه يحتوي على بعض الخصائص المربكة.

الكلمة الرئيسية const تعني التخصيص الثابت, تحدد هذه الكلمة الأساسية ثابتًا موجودًا طالما كان موجودًا, يفيد ذلك في عمليات الربط التي تعطي اسمًا لقيمة بحيث يمكنك الرجوع إليها بسهولة لاحقًا.

### Binding names

يمكن استخدام أي كلمة لتسمية السمات. يمكن استخدام الأرقام لجزء من اسم المتغير, مثلا catch22 ولكن لايمكن ان يبدا الرقم بالبدايه, يمكن أن يحتوي اسم المتغير على علامة الدولار \($\) أو علامات  \(\_\)  ولكن لا يمكن استخدام علامات الترقيم الأخرى أو الأحرف الخاصة.

الكلمات التي لها معنى خاص في JavaScript ، مثل let  تسمى كلمات رئيسية ولا يمكن استخدامها لتسمية المتغيرات, يوجد أيضًا عدد من الكلمات المحجوزة للإصدارات المستقبلية من JavaScript والتي لا يمكن استخدامها لتسمية المتغيرات. تصبح قائمة كل هذه الكلمات الرئيسية المحجوزة طويلة نسبيًا.

```text
break case catch class const continue debugger default
delete do else enum export extends false finally for
function if implements import interface in instanceof let
new package private protected public return static super
switch this throw true try typeof var void while with yield
```

لا تقلق بشأن حفظ الكلمات أعلاه. إذا واجهت خطأ غير متوقع عند تحديد متغير ، فتأكد من عدم استخدام الكلمات الموجودة في القائمة أعلاه.

### The environment

لمجموعة من الصلاحيات \(متغيرات\) قيمها النشطة في وقت معين في البيئة القابلة للتنفيذ\( _environment_\)اتصال , عند تشغيل أحد البرامج ، لا تكون هذه البيئة فارغة وتحتوي على مهام تشكل جزءًا من معيار اللغة. في معظم الأوقات ، توفر بيئة التشغيل أيضًا أشياء للتفاعل مع النظام المحيط. على سبيل المثال ، في مستعرض الويب ، تتوفر الوظائف التي يمكن استخدامها للتفاعل مع موقع ويب تم تنزيله أو قراءة مدخلات الماوس ولوحة المفاتيح.

### Functions

الكثير من القيم في البيئة الافتراضية القابلة للتنفيذ, هناك نوع الوظيفة \(function\). الوظيفة هي في الواقع جزء أو جزء من برنامج يتخذ شكل قيمة, يمكن استخدام هذه الأنواع من القيم لتنفيذ البرنامج فيه. فمثلا, في بيئة المتصفح ، مهمه prompt , يحتوي على وظيفة تعرض مربع حوار صغير يطلب إدخال المستخدم. يتم استخدامه على النحو التالي:

```text
prompt("Enter passcode");
```

![A prompt dialog](https://eloquentjavascript.net/img/prompt.png)

تنفيذ الوظيفة يسمى ' _invoking_'  يمكنك استدعاء دالة بوضع أقواس بعد التعبير الذي ينتج عنه قيمة دالة. عادة ما تعمل مباشرة مع متغير يحتوي على دالة, إذا كانت القيم محاطة بأقواس ، يتم إرسال هذه القيم إلى البرنامج داخل الوظيفة, في المثال prompt  تستخدم الوظيفة السلسلة string  التي نقدمها كنص لإظهاره في مربع الحوار, يتم استدعاء القيم المعطاة للوظائف وتسمى هذه القيم الذي يتم تمريرها الى الدوال ب ' _arguments_' قد تتطلب الوظائف المختلفة أعدادًا وأنواعًا مختلفة من الوسيطات\(_arguments_\) .

لا تستخدم الوظيفة prompt على نطاق واسع في برمجة الويب الحديثة, هذا يرجع في الغالب إلى عدم التحكم في مظهر نافذة الدردشة. . لكن يمكن استخدامه في بعض الحالات ، مثل البرامج الترفيهية أو التجارب.

### The console.log function

في الأمثلة السابقة, لقد استخدمت console.log لعرض القيم. معظم أنظمة JavaScript .  \(يشمل جميع المتصفحات الحديثة و node.js\) .إنها توفر وظيفة تسمى console.log تعرض وسائط الإدخال في مكان ما في النص. في المتصفحات ، يوجد هذا الإخراج في وحدة تحكم JavaScript. وحدة التحكم هي جزء من المتصفح مخفي افتراضيًا. ولكن معظم المتصفحات تفتحه عند الضغط على F12 أو على جهاز Mac تضغط  command-option-I . ستكون متاحة. إذا كانت هذه الاختصارات لا تعمل. ابحث عن "Developer Tools" وما شابه ذلك من خلال قائمة المتصفح.

عند تشغيل الأمثلة \(أو الكود الخاص بك\) على صفحات هذا الكتاب ،سيتم عرض ناتج وظيفة console.log بعد المثال نفسه ، بدلاً من عرضها في وحدة تحكم JavaScript في المتصفح.

```text
let x = 30;
console.log("the value of x is", x);
// → the value of x is 30
```

على الرغم من أنه لا يمكن استخدام الأحرف النقطية في أسماء المتغيرات ، لكن console.log له وجهة نظر. هذا لأن console.log ليس سمة بسيطة \(متغير\)وهي عبارة تُرجع خاصية السجل log من القيمة المخزنة في متغير وحدة التحكم console. في [الفصل الرابع](https://alihhmmre-a.gitbook.io/alijavascript/data-structures-objects-and-arrays#alkhsaes) ، سنتعرف على المفهوم بالتفصيل.

### Return values <a id="return_values"></a>

يعتبر عرض نافذة تفاعلية أو كتابة نص على الشاشة من الآثار الجانبية, يتم استخدام العديد من الوظائف بسبب الآثار الجانبية التي تنتج عنها, يمكن أن تولد الوظائف أيضًا قيمًا ، وفي هذه الحالة لا تحتاج إلى تأثير جانبي لاستخدامه في البرنامج. فمثلا, وظيفة Math.max يأخذ العديد من الوسائط الرقمية كما تريد ويعيد أكبرها.

```text
console.log(Math.max(2, 4));
// → 4
```

عندما تنتج الدالة قيمة, يقال لها تُرجع تلك القيمة.  في JavaScript ، أي شيء يولد قيمة هو تعبير ، مما يعني أنه يمكن استدعاء الوظائف بتعبيرات أكبر.هنا يتم استخدام استدعاء Math.min ، وهو صورة دالة Math.max ، كجزء من تعبير حسابي:

```text
console.log(Math.min(2, 4) + 100);
// → 102
```

سنشرح في الفصل التالي كيفية كتابة وظائفك.

### Control flow

عندما يحتوي برنامجك على أكثر من أمر واحد ، يتم تنفيذ الأوامر من أعلى إلى أسفل ، مثل قراءة قصة. فمثلا, هذا البرنامج له أمرين. يطالب الأمر الأول المستخدم بإدخال رقم ويقوم الثاني بتنفيذه, المربع يظهر الرقم الذي تم إدخاله. 

```text
let theNumber = Number(prompt("Pick a number"));
console.log("Your number is the square root of " +
            theNumber * theNumber);
```

تقوم وظيفة Number بتحويل قيمة الإدخال الخاصة بها إلى رقم. نحن بحاجة إلى هذا التحويل لأن الناتج وظيفه prompt عبارة عن سلسلة ونحن نبحث عن رقم, هناك وظائف مشابهة تسمى String و Boolean تقوم بتحويل القيم إلى تلك الأنواع.

فيما يلي بعض الحقائق الأساسية حول لوحة الدوس وكيفية استخدامها.

![Trivial control flow](https://eloquentjavascript.net/img/controlflow-straight.svg)

### Conditional execution

ليست كل البرامج  طرق مستقيمه. ****على سبيل المثال ، قد نرغب في التفكير في طريقة أخرى في البرنامج حيث يختار البرنامج الطريقة المناسبة وفقًا للظروف الموجودة. هذا يسمى التنفيذ المشروط.



![Conditional control flow](http://eloquentjs.ir/img/controlflow-if.svg)

في JavaScript ، يتم تنفيذ التنفيذ الشرطي باستخدام الكلمة الأساسية if . في حالة بسيطة ، نعتزم تنفيذ مقتطف الشفرة فقط في حالة استيفاء شرط معين. على سبيل المثال ، في البرنامج السابق ، قد نرغب في إظهار مربع الإدخال فقط عندما يكون الإدخال رقمًا.

```text
let theNumber = Number(prompt("Pick a number"));
if (!Number.isNaN(theNumber)) {
  console.log("Your number is the square root of " +
              theNumber * theNumber);
}
```

مع هذا التعديل, إذا قمت بإدخال "Ali" ، فلن يظهر أي إخراج لانه يعتبر سلسله ونحن عملنا في الشرط ان يقبل فقط الرقم. الكلمه الرئيسيه  if تنفذ او تتخطى جملة اعتمادًا على قيمة التعبير المنطقي. يتم كتابة التعبير الحاسم بعد الكلمة الرئيسية ، بين قوسين ، متبوعًا بعبارة التنفيذ.

دالة Number.isNaN هي دالة JavaScript قياسية ترجع true عندما تكون وسيطة الإدخال الخاصة بها هي NaN. تحدث الدالة Number لإرجاع NaN عندما تعطيها سلسلة لا تمثل رقمًا صالحًا.                                           وبالتالي ، فإن الشرط يترجم إلى  “unless `theNumber` is not-a-number, do this”.

في هذا المثال ، يتم وضع الأمر الموجود في السطر بعد if  محاطًا بأقواس "braces"  \({و and}\). يمكن استخدام الأقواس لتجميع أوامر متعددة كأمر واحد يسمى الكتلة.  في المثال أعلاه ، يمكنك حذف الأقواس لأن لديك أمرًا واحدًا فقط ، ولكن لتجنب الارتباك أو عدمه ، يستخدم معظم مبرمجين JavaScript الأقواس في حالات مماثلة. سوف نستخدم نفس الاصطلاح في هذا الكتاب ، إلا في بعض الحالات حيث نريد أن يكون الأمر في نفس السطر.

```text
if (1 + 1 == 2) console.log("It's true");
// → It's true
```

ليس الأمر دائمًا أن يتم تنفيذ البرنامج إذا كان الشرط صحيحًا ، ولكن في بعض الأحيان يحدث العكس. يظهر هذا المسار الجانبي في الرسم التخطيطي مع السهم الثاني, استخدم الكلمات الأساسية else و if  هذا يسمح لنا بتحديد مسارين مختلفين للتنفيذ.

```text
let theNumber = Number(prompt("Pick a number"));
if (!Number.isNaN(theNumber)) {
  console.log("Your number is the square root of " +
              theNumber * theNumber);
} else {
  console.log("Hey. Why didn't you give me a number?");
}
```

إذا كان لديك أكثر من مسارين للاختيار من بينها, فيمكننا استخدام عدة أزواج if / else مرتبطة ببعضها البعض. تأمل في مثال 

```text
let num = Number(prompt("Pick a number"));

if (num < 10) {
  console.log("Small");
} else if (num < 100) {
  console.log("Medium");
} else {
  console.log("Large");
}
```

يتحقق البرنامج أولاً مما إذا كان num أقل من 10, إذا كان أقل, يذهب إلى هذا الفرع من الكود ويظهر "small" وهذا كل شيء . إذا كان الشرط الثاني \(100&gt;\) صحيحًا ، فهذا يعني أن الرقم بين 10 و 100 ، وفي هذه الحالة يتم عرض "Medium".  إذا لم يكن هناك شيء ، فسيتم تحديد الثاني والأخير.

سيبدو مخطط البرنامج أعلاه مثل الصورة أدناه.

![Nested if control flow](https://eloquentjavascript.net/img/controlflow-nested-if.svg)

### while and do loops <a id="loops"></a>

ضع في اعتبارك برنامجًا يطبع جميع الأرقام الزوجية بين 0 و 12. طريقة واحدة لكتابة هذا البرنامج على النحو التالي:

```text
console.log(0);
console.log(2);
console.log(4);
console.log(6);
console.log(8);
console.log(10);
console.log(12);
```

سيعمل هذا البرنامج ، لكن فكرة كتابة البرنامج على الإطلاق هي جعل المهمة تعمل بشكل أقل وليس أكثر.، استخدم أقل وليس أكثر. إذا أردنا طباعة جميع الأرقام الزوجية الأقل من 1000 ، فإن الطريقة السابقة لم تعد عملية. ما نحتاجه هو طريقة لتكرار الكود. يسمى هذا الشكل لتيار التحكم بالحلقة.



![Loop control flow](http://eloquentjs.ir/img/controlflow-loop.svg)

يسمح لنا تدفق التحكم في الحلقة بالعودة إلى نقطة في البرنامج حيث كنا من قبل وتكرارها في الحالة الحالية للبرنامج. إذا قمنا بدمج هذا الاحتمال مع متغير العد ، فيمكننا القيام بشيء مثل هذا:

```text
let number = 0;
while (number <= 12) {
  console.log(number);
  number = number + 2;
}
// → 0
// → 2
//   … etcetera
```

الأمر الذي يبدأ بالكلمة الأساسية while ينشئ حلقة. هيكل while يشبه إلى حد بعيد إذا. الكلمة while متبوعة بزوج من الأقواس داخل العبارة ، متبوعًا بأمر. تقوم حلقة while بتنفيذ الأمر باستمرار ، طالما أن التعبير بين الأقواس صحيح. يتم تحويل القيمة الموجودة بين قوسين إلى نوع البيانات المنطقية ثم يتم تقييمها.

يوضح متغير Number هنا كيف يمكن استخدام متغير للحفاظ على تقدم التطبيق. في كل مرة تتكرر فيها الحلقة ، تزداد قيمة Number بمقدار وحدتين. . في بداية كل تكرار ، تتم مقارنة هذا الرقم بـ 12 لتحديد ما إذا كنا قد وصلنا إلى نهاية البرنامج أم لا.

كمثال عملي ، يمكننا الآن كتابة برنامج يحسب ويعرض القيمة 2.10. سنستخدم متغيرين: أحدهما للاحتفاظ بنتيجة الحساب والآخر لحساب عدد المرات التي ضربنا فيها النتيجة في 2. تتحقق الحلقة من أن المتغير الثاني قد وصل إلى 10 ، وإلا فإنه يقوم بتحديث كلا المتغيرين.

```text
let result = 1;
let counter = 0;
while (counter < 10) {
  result = result * 2;
  counter = counter + 1;
}
console.log(result);
// → 1024
```

يمكننا بدء متغير العداد  counter من 1 ، وفي هذه الحالة يتم التحقق من الشرط على أنه        10 =&gt;. للأسباب التي ستتضح في الفصل الرابع ، من الأفضل أن تعتاد على العد من الصفر

حلقة do هي هيكل تحكم مشابه لحلقة while. الاختلاف الوحيد هو شيء واحد: تقوم حلقة do بتنفيذ جسمها مرة واحدة على الأقل وتتحقق من حالة الإيقاف بعد التشغيل الأول. لإظهار هذه الميزة ، تتم كتابة حقل فحص الشرط بعد جسم الحلقة:

```text
let yourName;
do {
  yourName = prompt("Who are you?");
} while (!yourName);
console.log(yourName);
```

هذا البرنامج سوف يجبرك على إدخال اسم. سيتم طلب الطلب بما فيه الكفاية لتلقي أخيراً شيء آخر غير سلسلة فارغة. إضافة إجراء !  يجعل القيمة تصبح  منطقية قبل أن تصبح سالبة، ونحن نعلم أن كافة السلاسل تصبح صحيحة باستثناء "". وهذا يعني أن الحلقة سيتم تشغيلها حتى تقوم بإدخال اسم غير فارغ.

### Indenting Code

كما ترى في الأمثلة ، أضع مسافات فارغة في بداية الأوامر التي تشكل جزءًا من الأوامر الأكبر. في JavaScript, هذه المساحات ليست ضرورية - الكمبيوتر يقبل البرنامج جيدًا بدونها. في الواقع ، حتى كسر الأسطر في البرامج أمر اختياري. إذا أردت ، يمكنك كتابة برنامج في سطر طويل.

يتمثل دور المسافات البادئة في الكتل في إبراز بنية الكود. عند الترميز ، يتم أحيانًا إدراج كتل جديدة في كتل أخرى ، مما يجعل من الصعب العثور على نهاية الكتل وبدايتها. من خلال إنشاء مسافة بادئة مناسبة ، سيشير مظهر البرنامج نفسه إلى بنية الكتل الموجودة بداخله . أفضل استخدام مسافتين لكل كتلة مفتوحة ، لكن الأذواق مختلفة ، فبعض الأشخاص يفضلون استخدام أربع مسافات ، والبعض الآخر مثل أحرف الجدولة.  لكن الشيء المهم هو استخدام نفس مقدار المسافة البادئة لكل كتلة جديدة.

```text
if (false != true) {
  console.log("That makes sense.");
  if (1 < 2) {
    console.log("No surprise there.");
  }
}
```

تقوم معظم برامج تحرير الكود \(مثل محرر الكود في هذا الكتاب\) بإنشاء منافذ تلقائيًا وبالحجم المناسب.

### for loops

تتبع العديد من الحلقات النمط الذي رأيناه في أمثلة while. في البداية يتم إنشاء متغير "عداد" لتتبع تقدم الحلقة. ثم تأتي حلقة while ، التي يتحقق تعبيرها الشرطي عادةً من قيمة العداد التي وصلت إلى حد معين. في نهاية جسم الحلقة ، يتم تحديث العداد لتتبع تقدم البرنامج.

نظرًا لأن هذا القالب شائع جدًا ، فإن JavaScript واللغات المماثلة تقدم طريقة أقصر قليلاً وأكثر شمولاً ، الحلقة for.

```text
for (let number = 0; number <= 12; number = number + 2) {
  console.log(number);
}
// → 0
// → 2
//   … etcetera
```

البرنامج أعلاه هو نفسه تمامًا مثل برنامج طباعة الأرقام الزوجية السابقة. الاختلاف الوحيد هو أن جميع الأوامر المتعلقة بحاله  "for" البرنامج موجودة الآن في مجموعة بعد لـ.

يجب أن تحتوي الأقواس التي تلي الكلمة الأساسية for على فاصلة منقوطة. الجزء الذي يسبق الفاصلة المنقوطة الأولى " _initializes_ " وهو الجزاء الذي يهيئ الحلقه . الجزء الثاني هو التعبير الذي يتحقق 'checked' مما إذا كانت الحلقة يجب أن تستمر. يقوم الجزء الأخير بتحديث حالة الحلقة بعد كل تكرار. في معظم الحالات ، يكون هذا أقصر وأوضح من "while"

هذا هو الكود الذي يحسب 210 بـ بدلاً من while:

```text
let result = 1;
for (let counter = 0; counter < 10; counter = counter + 1) {
  result = result * 2;
}
console.log(result);
// → 1024
```

### Breaking Out of a Loop

الطريقة الوحيدة لإكمال الحلقة هي عدم إنشاء قيمة خاطئة من خلال قسم شرط الحلقة. هناك أمر خاص يسمى breakوالذي ، عند استخدامه ، يجعل البرنامج يخرج على الفور من الحلقة المحيطة به.

يوضح البرنامج التالي كيفية استخدام break. اعثر  على الرقم الأول الأكبر من أو يساوي 20 ويمكن أيضًا تقسيمه على 7.

```text
for (let current = 20; ; current = current + 1) {
  if (current % 7 == 0) {
    console.log(current);
    break;
  }
}
// → 21
```

يعد استخدام عامل التشغيل المتبقي \(٪\) طريقة سهلة لاختبار ما إذا كان الرقم قابلاً للقسمة على رقم آخر. إذا كان الأمر كذلك ، فإن باقي القسمة هو صفر.

لا تحتوي بنية for في هذا المثال على الجزء الذي يفحص نهاية الحلقة. هذا يعني أن الحلقة لن تتوقف أبدًا ما لم يتم تنفيذ الأمر break داخلها

إذا حذفت تعليمة break أو كتبت عن طريق الخطأ شرطًا يولد دائمًا صحيحًا ، فسيظل برنامجك عالقًا في حلقة لا نهائية. البرنامج الذي يقع في الحلقة اللانهائية لا ينتهي ، وهو عادة أمر سيء.

إذا قمت بإنشاء حلقة لا نهائية في الأمثلة الموجودة على صفحات الكتاب على الإنترنت ، فعادةً ما يتم سؤالك بعد بضع ثوانٍ عما إذا كنت تريد الاستمرار في تشغيل النص. إذا لم يتوقف البرنامج ، فسيتعين عليك إغلاق علامة التبويب التي تعمل عليها ، أو إغلاق المتصفح بأكمله في بعض المتصفحات.

كلمه  `continue` مشابهه ل break. عند تشغيل continue داخل جسم الحلقة ، تتم إزالة التحكم في البرنامج من الجسم ونقله إلى التكرار التالي ويستمر.

### Updating bindings succinctly

خاصة في الحلقات ، عادة ما يكون من الضروري تحديث متغير بناءً على قيمته السابقة.

counter = counter + 1;

جافا سكريبت لديها اختصار للقيام بذلك:

counter += 1;

توجد اختصارات مماثلة لمشغلين آخرين ، مثل =\* لمضاعفه النتيجه او العدد ويوجد =- للعد التنازلي

بهذه الطريقة يمكننا كتابة مثال عد الأرقام بشكل أقصر قليلاً.

```text
for (let number = 0; number <= 12; number += 2) {
  console.log(number);
}
```

للعداد   `counter += 1`  و `counter -= 1`, هناك أيضًا معادلات أقصر:

  هذا اختصارهما : `counter++` و`counter--`. 

### Dispatching on a value with switch

 من غير المألوف أن يبدو الكود كما يلي اذا كان شرط كبير مثلا :

```text
if (x == "value1") action1();
else if (x == "value2") action2();
else if (x == "value3") action3();
else defaultAction();
```

هناك هيكل يسمى "switch"يكون أكثر قابلية للقراءة ومباشرًا في حالات مثل تلك أعلاه. لسوء الحظ ، فإن النمط الذي تستخدمه JavaScript لهذه البنية \(مأخوذ من لغات مثل C / Java\) محرج بعض الشيء - سلسلة من عبارات if قد تبدو أجمل. على سبيل المثال ، ضع في اعتبارك:

```text
switch (prompt("What is the weather like?")) {
  case "rainy":
    console.log("Remember to bring an umbrella.");
    break;
  case "sunny":
    console.log("Dress lightly.");
  case "cloudy":
    console.log("Go outside.");
    break;
  default:
    console.log("Unknown weather type!");
    break;
}
```

يمكنك وضع أي عدد من علامات الحالة داخل كتلة التبديل 'switch'. يختار البرنامج التسمية المقابلة وفقًا للقيمة المعطاة للمفتاح وينقله إلى هذا الجزء ، أو ينفذ الجزء الافتراضي 'default' إذا لم يتم العثور على عنصر. بعد تحديد العلامة ، يتم تنفيذ أوامرها ، حتى الأوامر الموجودة تحت علامة أخرى حتى يصل البرنامج إلى أمر break. في بعض الحالات 'case'، مثل الحالة "sunny" في المثال أعلاه ، يمكن استخدام هذه الميزة لمشاركة الكود بين الحالات \(يقترح التطبيق الخروج من المدينة بسبب الطقس الغائم والمشمس\). لكن احذر: يمكن نسيان  الفواصل breakبسهولة ، مما يؤدي إلى تشغيل رمز لم ترغب فيه.

### Capitalization

لا يمكنك استخدام المسافات \(المسافات\) في أسماء المتغيرات ، ولكن غالبًا ما يكون من المفيد استخدام بضع كلمات لوصف محتوى المتغير. تعتمد الطريقة التي تستخدمها لكتابة أسماء المتغيرات متعددة الكلمات على ذوقك:

```text
fuzzylittleturtle
fuzzy_little_turtle
FuzzyLittleTurtle
fuzzyLittleTurtle
```

قد تكون قراءة الأسلوب الأول صعبة. أنا شخصياً أحب الطريقة التي أستخدم بها الشرطة السفلية ، على الرغم من صعوبة كتابتها قليلاً,  تستخدم وظائف JavaScript القياسية ومعظم مبرمجي JavaScript الطريقة الأخيرة - يبدأون في كتابة الكلمات بأحرف كبيرة بخلاف الكلمة الأولى. يمكنك بسهولة التعود على إحدى هذه الطرق. يؤدي الترميز باستخدام أنماط تسمية مختلفة إلى حدوث مشاكل في قابلية قراءة الكود ، لذلك سنستخدم نمطًا واحدًا فقط وهو النمط الأخير.

في حالات قليلة ، مثل دالة الرقم ، يتم تكبير الحرف الأول من المتغير.هذا هو وضع علامة على هذه الوظيفة كدالة منشئ. سيتم توضيح ما هي وظيفة المنشئ في الفصل 6. في الوقت الحالي ، الشيء المهم هو أن هذا النقص في التكامل لا يزعجك في مثل هذه الحالات.

### Comments

عادةً لا تستطيع الشفرة الرئيسية للبرنامج نقل جميع المعلومات التي تريد أن يراها الآخرون عندما ترى الرمز الخاص بك او يفعلون ذلك بطريقة غامضة وغامضة قد لا يدركها الآخرون. قد ترغب أحيانًا في إضافة تعليقات ذات صلة إلى التعليمات البرمجية الخاصة بك كجزء من البرنامج. هذا هو المكان الذي تأتي فيه التفسيرات في متناول اليد.

التعليق هو نص يمثل جزءًا من برنامج ولكن يتم تجاهله بواسطة الكمبيوتر. لكتابة أوصاف من سطر واحد ، يمكنك استخدام حرفين مائلتين \(//\) في بداية الوصف.

```text
let accountBalance = calculateBalance(account);
// It's a green hollow where a river sings
accountBalance.adjust();
// Madly catching white tatters in the grass.
let report = new Report();
// Where the sun on the proud mountain rings:
addToReport(accountBalance, report);
// It's a little valley, foaming like light in a glass.
```

التفسير المميز بـ // يعتبر فقط حتى نهاية نفس السطر. 

يعتبر النص المحاط بين / \*  _\*_ / بمثابة تفسير كامل وبغض النظر عن عدد الأسطر التي يحتوي عليها. تُستخدم هذه الميزة لإضافة اسطر كثيره من المعلومات حول ملف أو جزء من التطبيق.

```text
/*
  I first found this number scrawled on the back of an old notebook.
  Since then, it has often dropped by, showing up in phone numbers
  and the serial numbers of products that I've bought. It obviously
  likes me, so I've decided to keep it.
*/
const myNumber = 11213;
```

### Summary

أنت تعلم الآن أن البرنامج مبني من مجموعة من الأوامر ، والتي تحتوي بدورها في بعض الأحيان على المزيد من الأوامر. تحتوي الأوامر على عبارات يمكن أن تكون في حد ذاتها عبارات أقصر.

يؤدي وضع الأوامر واحدًا تلو الآخر إلى إنشاء برنامج يعمل من الأعلى إلى الأسفل ، على التوالي. يمكن ترتيب تدفق التحكم هذا باستخدام أوامر شرطية \(if , else , switch\) وحلقات تكراريه \(for, while , do\)

يمكن استخدام المتغيرات لتصنيف جزء من البيانات تحت اسم واحد. كما أنها مفيدة للحفاظ على الحالة الحالية لبرنامجك وتتبعها. البيئة القابلة للتنفيذ هي مجموعة من السمات المحددة مسبقًا \(المتغيرات\). تقوم أنظمة JavaScript دائمًا بتضمين عدد من المتغيرات القياسية المفيدة في بيئتك.

الوظائف هي قيم خاصة تحمل جزءًا من البرنامج بالداخل. يمكنك كتابتها:                                                            \(functionName\(argument1, argument2. استدعاء دالة بهذه الطريقة هو نوع من التعبير يمكنه أيضًا إنشاء قيمة.

### Exercises

إذا لم تكن متأكدًا من كيفية اختبار الحلول التي تقدمها للتدريبات وتنفيذها ، فراجع المقدمة . يبدأ كل تمرين بوصف المشكلة. اقرأها وحاول حلها. إذا كنت تواجه مشكلة في حل المشكلة ، فراجع قسم "النصائح" في نهاية كل تمرين. لم يتم تضمين الحل الكامل للتمارين في هذا الكتاب, ولكن يمكنك العثور عليها على: [https://eloquentjavascript.net/code](https://eloquentjavascript.net/code)  إذا كنت تريد أن تتعلم شيئًا ما من التدريبات ، فإنني أوصي بالنظر في الحلول فقط بعد حل التمرين ، أو على الأقل بعد أن تهاجمه لفترة طويلة وصعبة بما يكفي للإصابة بصداع خفيف.

#### Looping a triangle

اكتب حلقة تقوم بسبع استدعاءات لـ console.log لإخراج المثلث التالي:



```text
#
##
###
####
#####
######
#######
```

قد يكون من المفيد معرفة أنه يمكنك إيجاد طول سلسلة من خلال كتابة الطول بعده.

```text
let abc = "abc";
console.log(abc.length);
// → 3
```

تحتوي معظم التمارين على جزء من التعليمات البرمجية يمكنك تعديله لحل التمرين. تذكر أنه يمكنك النقر فوق كتل التعليمات البرمجية لتحريرها. 

```text
// Your code here.
let abc = "abc";
console.log(abc.length);
// → 3
```

### FizzBuzz

اكتب برنامجًا يستخدم console.log لطباعة جميع الأرقام من 1 إلى 100 ، مع استثناءين. للأرقام القابلة للقسمة على 3 ، اطبع "Fizz" بدلاً من الرقم ، وبالنسبة للأرقام القابلة للقسمة على 5 \(وليس 3\) ، اطبع "Buzz" بدلاً من ذلك.

عندما يقوم التطبيق الخاص بك بعمل ما ورد أعلاه بشكل صحيح ، قم بتغييره لطباعة قيمة "FizzBuzz" للأرقام القابلة للقسمة على 3 و 5 في نفس الوقت \(يجب أن يستمر البرنامج في طباعة "Fizz" و "Buzz" للأرقام التي اطبع كل قسم\).

\(هذا في الواقع أحد أسئلة مقابلة العمل التي تم الادعاء بأنها يمكن استخدامها لفصل الأشخاص غير الجيدين في البرمجة. لذلك إذا قمت بحلها ، فإن قيمتك في سوق العمل قد ارتفعت.\)

### Chessboard

اكتب برنامجًا يقوم بإنشاء سلسلة تمثل 8. 8 صفحة. استخدم حرف السطر الجديد لفصل السطور. يمكن استخدام مسافة فارغة \(مسافة\) أو حرف "\#" في أي مكان بالصفحة. يجب أن يبدو العدد الإجمالي للأحرف مثل رقعة الشطرنج.

إذا أعطيت سلسلة الإخراج لوظيفة console.log ، فيجب أن تنتج شيئًا مثل ما يلي:



```text
 # # # #
# # # #
 # # # #
# # # #
 # # # #
# # # #
 # # # #
# # # #
```

بعد إنشاء الجزء الأول وإنشاء النموذج أعلاه ، حدد الآن الحجم المتغير = 8 وقم بتغيير البرنامج بحيث يعمل بشكل صحيح لكل قيمة حجم وإنشاء صفحة بهذا الطول والعرض.



